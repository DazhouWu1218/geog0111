
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3.3 GDAL, and OGR masking &#8212; GEOG0111 Scientific Computing 1.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3.4 Stacking and interpolating data" href="043_GDAL_stacking_and_interpolating.html" />
    <link rel="prev" title="3.2 Accessing MODIS Data products" href="041_MODIS_download.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="gdal-and-ogr-masking">
<h1>3.3 GDAL, and OGR masking<a class="headerlink" href="#gdal-and-ogr-masking" title="Permalink to this headline">¶</a></h1>
<h1>Table of Contents<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><span><a href="#3.3-GDAL,-and-OGR-masking" data-toc-modified-id="3.3-GDAL,-and-OGR-masking-3.1">3.3 GDAL, and OGR masking</a></span><ul class="toc-item"><li><span><a href="#3.3.1-The-MODIS-LAI-data" data-toc-modified-id="3.3.1-The-MODIS-LAI-data-3.1.1">3.3.1 The MODIS LAI data</a></span><ul class="toc-item"><li><span><a href="#3.3.1.1-try-...-except-..." data-toc-modified-id="3.3.1.1-try-...-except-...-3.1.1.1">3.3.1.1 <code>try ... except ...</code></a></span></li><li><span><a href="#3.3.1.2-Get-data" data-toc-modified-id="3.3.1.2-Get-data-3.1.1.2">3.3.1.2 Get data</a></span></li><li><span><a href="#3.3.1.3-File-Naming-Convention" data-toc-modified-id="3.3.1.3-File-Naming-Convention-3.1.1.3">3.3.1.3 File Naming Convention</a></span></li><li><span><a href="#3.3.1.2-Dataset-Naming-Convention" data-toc-modified-id="3.3.1.2-Dataset-Naming-Convention-3.1.1.4">3.3.1.2 Dataset Naming Convention</a></span></li></ul></li><li><span><a href="#3.3.2-MODIS-dataset-access" data-toc-modified-id="3.3.2-MODIS-dataset-access-3.1.2">3.3.2 MODIS dataset access</a></span><ul class="toc-item"><li><span><a href="#3.3.2.1-gdal.ReadAsArray()" data-toc-modified-id="3.3.2.1-gdal.ReadAsArray()-3.1.2.1">3.3.2.1 <code>gdal.ReadAsArray()</code></a></span></li><li><span><a href="#3.3.2.2-Metadata" data-toc-modified-id="3.3.2.2-Metadata-3.1.2.2">3.3.2.2 Metadata</a></span></li></ul></li><li><span><a href="#3.3.3-Reading-and-displaying-data" data-toc-modified-id="3.3.3-Reading-and-displaying-data-3.1.3">3.3.3 Reading and displaying data</a></span><ul class="toc-item"><li><span><a href="#3.3.3.1-glob" data-toc-modified-id="3.3.3.1-glob-3.1.3.1">3.3.3.1 <code>glob</code></a></span></li><li><span><a href="#3.3.3.2-reading-and-displaying-image-data" data-toc-modified-id="3.3.3.2-reading-and-displaying-image-data-3.1.3.2">3.3.3.2 reading and displaying image data</a></span></li><li><span><a href="#3.3.3.3-subplot-plotting" data-toc-modified-id="3.3.3.3-subplot-plotting-3.1.3.3">3.3.3.3 subplot plotting</a></span></li><li><span><a href="#3.3.3.3-tile-stitching" data-toc-modified-id="3.3.3.3-tile-stitching-3.1.3.4">3.3.3.3 tile stitching</a></span></li><li><span><a href="#3.3.3.4-gdal-virtual-file" data-toc-modified-id="3.3.3.4-gdal-virtual-file-3.1.3.5">3.3.3.4 <code>gdal</code> virtual file</a></span></li></ul></li><li><span><a href="#3.3.4-The-country-borders-dataset" data-toc-modified-id="3.3.4-The-country-borders-dataset-3.1.4">3.3.4 The country borders dataset</a></span></li></ul></li></ul></div><p>In this section, we’ll look at combining both raster and vector data to provide a masked dataset ready to use. We will produce a combined dataset of leaf area index (LAI) over the UK derived from the MODIS sensor. The MODIS LAI product is produced every 4 days and it is provided spatially tiled. Each tile covers around 1200 km x 1200 km of the Earth’s surface. Below you can see a map showing the MODIS tiling convention.</p>
<div class="section" id="the-modis-lai-data">
<h2>3.3.1 The MODIS LAI data<a class="headerlink" href="#the-modis-lai-data" title="Permalink to this headline">¶</a></h2>
<p>Let’s first test your NASA login:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geog0111.nasa_requests</span> <span class="k">as</span> <span class="nn">nasa_requests</span>
<span class="kn">from</span> <span class="nn">geog0111.cylog</span> <span class="kn">import</span> <span class="n">cylog</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2018.09.30/&#39;</span> 
        
<span class="c1"># grab the HTML information</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">nasa_requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="c1"># test a few lines of the html</span>
    <span class="k">if</span> <span class="n">html</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&lt;!DOCTYPE HTML PUBLI&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;this seems to be ok ... &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;use cylog().login() anywhere you need to specify the tuple (username,password)&#39;</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;login error ... try entering your username password again&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;then re-run this cell until it works&#39;</span><span class="p">)</span>
    <span class="n">cylog</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">this</span> <span class="n">seems</span> <span class="n">to</span> <span class="n">be</span> <span class="n">ok</span> <span class="o">...</span> 
<span class="n">use</span> <span class="n">cylog</span><span class="p">()</span><span class="o">.</span><span class="n">login</span><span class="p">()</span> <span class="n">anywhere</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="nb">tuple</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="try-except">
<h3>3.3.1.1 <code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">...</span> <span class="pre">except</span> <span class="pre">...</span></code><a class="headerlink" href="#try-except" title="Permalink to this headline">¶</a></h3>
<p>Note that we have used a <code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">...</span> <span class="pre">except</span></code> structure above to trap any errors.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># variable stupid not set</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m trying this but it will fail&quot;</span><span class="p">,</span><span class="n">stupid</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    trap the error</span>
<span class="sd">    (and ideally define some sensible behaviour)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;unset variable:&quot;</span><span class="p">,</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In case of other errors&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">())</span>
    <span class="c1"># raise our own exception</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;bad code&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unset</span> <span class="n">variable</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;stupid&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Generally, you should try to foresee the types of error you might generate, and provide specific traps for these so youy can control the code better.</p>
<p>In the case above, we allow the code execution to continue with a <code class="docutils literal notranslate"><span class="pre">NameError</span></code>, but raise a further exception in case of any other errors.</p>
<p><code class="docutils literal notranslate"><span class="pre">sys.exc_info()</span></code> provides a tuple of information on what happened.</p>
<p><strong>Exercise</strong></p>
<ul class="simple">
<li><p>Write some code using <code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">...</span> <span class="pre">except</span></code> to trap a <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code></p></li>
<li><p>provide a sensible result in such a case</p></li>
</ul>
<p><strong>hint</strong></p>
<p>If you divide by zero, the result will be infinity, which is often not what you want to happen. Instead, try dividing by a small number, such as that provided by <code class="docutils literal notranslate"><span class="pre">sys.float_info.epsilon</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
<div class="section" id="get-data">
<h3>3.3.1.2 Get data<a class="headerlink" href="#get-data" title="Permalink to this headline">¶</a></h3>
<p>You should by now be able to download MODIS data, but in this case, the data are provided (or downloaded for you) in the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder as files <code class="docutils literal notranslate"><span class="pre">MCD15A3H.A2018273.h17v03.006.2018278143630.hdf</span></code>  and <code class="docutils literal notranslate"><span class="pre">MCD15A3H.A2018273.h18v03.006.2018278143633.hdf</span></code> (and some files <code class="docutils literal notranslate"><span class="pre">*v04*hdf</span></code> we will need later) by running the code below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geog0111.geog_data</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&#39;</span><span class="p">,</span> \
            <span class="s1">&#39;MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&#39;</span><span class="p">,</span>\
            <span class="s1">&#39;MCD15A3H.A2018273.h17v04.006.2018278143630.hdf&#39;</span><span class="p">,</span>\
            <span class="s1">&#39;MCD15A3H.A2018273.h18v04.006.2018278143638.hdf&#39;</span><span class="p">]</span>
<span class="n">destination_folder</span><span class="o">=</span><span class="s2">&quot;data&quot;</span>

<span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">procure_dataset</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>\
                        <span class="n">destination_folder</span><span class="o">=</span><span class="n">destination_folder</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h17v03</span><span class="o">.</span><span class="mf">006.2018278143630</span><span class="o">.</span><span class="n">hdf</span> <span class="kc">True</span>
<span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h18v03</span><span class="o">.</span><span class="mf">006.2018278143633</span><span class="o">.</span><span class="n">hdf</span> <span class="kc">True</span>
<span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h17v04</span><span class="o">.</span><span class="mf">006.2018278143630</span><span class="o">.</span><span class="n">hdf</span> <span class="kc">True</span>
<span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h18v04</span><span class="o">.</span><span class="mf">006.2018278143638</span><span class="o">.</span><span class="n">hdf</span> <span class="kc">True</span>
</pre></div>
</div>
<p>We want to select the LAI layers, so let’s have a look at the contents (‘sub datasets’) of one of the files.</p>
<p>To do this with <code class="docutils literal notranslate"><span class="pre">gdal</span></code>:</p>
<ul class="simple">
<li><p>make the full filename (folder name, plus the filename in that folder). Use <code class="docutils literal notranslate"><span class="pre">Path</span></code> for this, but convert to a string.</p></li>
<li><p>open the file, store as <code class="docutils literal notranslate"><span class="pre">g</span></code></p></li>
<li><p>get the list <code class="docutils literal notranslate"><span class="pre">g.GetSubDatasets()</span></code> and loop over this</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">geog0111.geog_data</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&#39;</span><span class="p">,</span> \
            <span class="s1">&#39;MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&#39;</span><span class="p">]</span>
<span class="n">destination_folder</span><span class="o">=</span><span class="s2">&quot;data&quot;</span>

<span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="c1"># form full filename as a string</span>
    <span class="c1"># and print with an underline of = </span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">destination_folder</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">file_name</span><span class="p">))</span>
    
    <span class="c1"># open the file as g</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
    <span class="c1"># loop over the subdatasets</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">GetSubDatasets</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">/</span><span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h17v03</span><span class="o">.</span><span class="mf">006.2018278143630</span><span class="o">.</span><span class="n">hdf</span>
<span class="o">===================================================</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:Fpar_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] Fpar_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] Lai_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:FparLai_QC&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] FparLai_QC MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:FparExtra_QC&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] FparExtra_QC MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:FparStdDev_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] FparStdDev_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:LaiStdDev_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] LaiStdDev_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="o">/</span><span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h18v03</span><span class="o">.</span><span class="mf">006.2018278143633</span><span class="o">.</span><span class="n">hdf</span>
<span class="o">===================================================</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:Fpar_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] Fpar_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] Lai_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:FparLai_QC&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] FparLai_QC MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:FparExtra_QC&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] FparExtra_QC MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:FparStdDev_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] FparStdDev_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:LaiStdDev_500m&#39;</span><span class="p">,</span> <span class="s1">&#39;[2400x2400] LaiStdDev_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>So we see that the data is in <code class="docutils literal notranslate"><span class="pre">HDF4</span></code> format, and that it has a number of layers. The dataset/layer we’re interested in</p>
<p><code class="docutils literal notranslate"><span class="pre">HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m</span></code>.</p>
</div>
<div class="section" id="file-naming-convention">
<h3>3.3.1.3 File Naming Convention<a class="headerlink" href="#file-naming-convention" title="Permalink to this headline">¶</a></h3>
<p>This section taken from <a class="reference external" href="https://nsidc.org/data/mod10a1">NASA MODIS product page</a>.</p>
<p>Example File Name:</p>
<p><code class="docutils literal notranslate"><span class="pre">data/MOD10A1.A2000055.h15v01.006.2016061160800.hdf</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">FOLDER/MOD[PID].A[YYYY][DDD].h[NN]v[NN].[VVV].[yyyy][ddd][hhmmss].hdf</span></code></p>
<p>Refer to Table 3.3.1 for descriptions of the file name variables listed above.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>FOLDER</td>
<td>folder/directory name of file</td>
</tr>
<tr>
<td>MOD</td>
<td>MODIS/Terra  (<code>MCD</code> means combined)</td>
</tr>
<tr>
<td>PID</td>
<td>Product ID</td>
</tr>
<tr>
<td>A</td>
<td>Acquisition date follows</td>
</tr>
<tr>
<td>YYYY</td>
<td>Acquisition year</td>
</tr>
<tr>
<td>DDD</td>
<td>Acquisition day of year</td>
</tr>
<tr>
<td>h[NN]v[NN]</td>
<td>Horizontal tile number and vertical tile number (see Grid for details.)</td>
</tr>
<tr>
<td>VVV</td>
<td>Version (Collection) number</td>
</tr>
<tr>
<td>yyyy</td>
<td>Production year</td>
</tr>
<tr>
<td>ddd</td>
<td>Production day of year</td>
</tr>
<tr>
<td>hhmmss</td>
<td>Production hour/minute/second in GMT</td>
</tr>
<tr>
<td>.hdf</td>
<td>HDF-EOS formatted data file</td>
</tr>
<tr>
<td>Table 3.3.1. Variables in the MODIS File Naming Convention</td>
<td></td>
</tr>
</tbody>
</table><p><img alt="https://nsidc.org/sites/nsidc.org/files/images/modis-sin-grid.png" src="https://nsidc.org/sites/nsidc.org/files/images/modis-sin-grid.png" /></p>
</div>
<div class="section" id="dataset-naming-convention">
<h3>3.3.1.2 Dataset Naming Convention<a class="headerlink" href="#dataset-naming-convention" title="Permalink to this headline">¶</a></h3>
<p>Example Dataset Name:</p>
<p><code class="docutils literal notranslate"><span class="pre">HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">FORMAT:&quot;FILENAME&quot;:MOD_Grid_PRODUCT:LAYER</span></code></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>FORMAT</td>
<td>file format, <code>HDF4_EOS:EOS_GRID</code></td>
</tr>
<tr>
<td>FILENAME</td>
<td>dataset file name, see below</td>
</tr>
<tr>
<td>PRODUCT</td>
<td>MODIS product code e.g. <code>MCD15A3H</code></td>
</tr>
<tr>
<td>LAYER</td>
<td>sub-dataset name e.g. <code>Lai_500m</code></td>
</tr>
<tr>
<td>Table 3.3.2. Variables in the MODIS Dataset Naming Convention</td>
<td></td>
</tr>
</tbody>
</table><p><strong>Exercise E3.3.1</strong></p>
<ul class="simple">
<li><p>Check you’re happy that the other datasets (e.g. <code class="docutils literal notranslate"><span class="pre">LaiStdDev_500m</span></code>) follow the same convention as <code class="docutils literal notranslate"><span class="pre">Lai_500m</span></code></p></li>
<li><p>work out what the dataset/layer name would be for the dataset product <code class="docutils literal notranslate"><span class="pre">MOD10A1</span></code> version <code class="docutils literal notranslate"><span class="pre">6</span></code> for the $1^{st}$ January 2018, for tile <code class="docutils literal notranslate"><span class="pre">h25v06</span></code> for the layer <code class="docutils literal notranslate"><span class="pre">NDSI_Snow_Cover</span></code>. You will find product information <a class="reference external" href="https://nsidc.org/data/mod10a1">on the relevant NASA page</a>. You may not be able to access the production date/time, but just put a placeholder for that now.</p></li>
<li><p>phrase the filename and layer name as ‘<code class="docutils literal notranslate"><span class="pre">f</span></code>’ strings, e.g. starting <code class="docutils literal notranslate"><span class="pre">f'HDF4_EOS:EOS_GRID:&quot;{filename}&quot;:MOD_Grid_{}'</span></code> etc.</p></li>
</ul>
<p><strong>Hint</strong>:</p>
<p>You can explore the filenames by looking into the <a class="reference external" href="https://n5eil01u.ecs.nsidc.org/MOSA/">Earthdata link</a>.</p>
<p><img alt="_images/BROWSE.MYD10A1.A2018001.h25v05.006.2018003025825.1.jpg" src="_images/BROWSE.MYD10A1.A2018001.h25v05.006.2018003025825.1.jpg" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="modis-dataset-access">
<h2>3.3.2 MODIS dataset access<a class="headerlink" href="#modis-dataset-access" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gdal-readasarray">
<h3>3.3.2.1 <code class="docutils literal notranslate"><span class="pre">gdal.ReadAsArray()</span></code><a class="headerlink" href="#gdal-readasarray" title="Permalink to this headline">¶</a></h3>
<p>We can now access the dataset names and open the datasets in <code class="docutils literal notranslate"><span class="pre">gdal</span></code> directly, e.g.:</p>
<p><code class="docutils literal notranslate"><span class="pre">HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m</span></code></p>
<p>We can read the dataset with <code class="docutils literal notranslate"><span class="pre">g.ReadAsArray()</span></code>, after we have opened it. It returns a numpy array.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&#39;</span>
<span class="n">dataset_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="n">filename</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;dataset: </span><span class="si">{</span><span class="n">dataset_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;max:&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;max:&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="c1"># get unique values, for interst</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unique values:&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>dataset: HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m
&lt;class &#39;numpy.ndarray&#39;&gt;
max: 255
max: 0
unique values: [  0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35
  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53
  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70 250
 253 254 255]
</pre></div>
</div>
<p><strong>Exercise E3.3.2</strong></p>
<ul class="simple">
<li><p>print out some further summary statistics of the dataset</p></li>
<li><p>print out the data type and <code class="docutils literal notranslate"><span class="pre">shape</span></code></p></li>
<li><p>how many rows and columns does the dataset have?</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
<div class="section" id="metadata">
<h3>3.3.2.2 Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h3>
<p>There will generally be a set of metadata associated with a geospatial dataset. This will describe e.g. the processing chain, special codes in the dataset, and projection and other information.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">gdal</span></code>, w access the metedata using <code class="docutils literal notranslate"><span class="pre">g.GetMetadata()</span></code>. A dictionary is returned.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&#39;</span>
<span class="n">dataset_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="n">filename</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Metedata Keys:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># get the metadata dictionary keys</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">GetMetadata</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Metedata</span> <span class="n">Keys</span><span class="p">:</span>

<span class="n">add_offset</span>
<span class="n">add_offset_err</span>
<span class="n">ALGORITHMPACKAGEACCEPTANCEDATE</span>
<span class="n">ALGORITHMPACKAGEMATURITYCODE</span>
<span class="n">ALGORITHMPACKAGENAME</span>
<span class="n">ALGORITHMPACKAGEVERSION</span>
<span class="n">ASSOCIATEDINSTRUMENTSHORTNAME</span><span class="o">.</span><span class="mi">1</span>
<span class="n">ASSOCIATEDINSTRUMENTSHORTNAME</span><span class="o">.</span><span class="mi">2</span>
<span class="n">ASSOCIATEDPLATFORMSHORTNAME</span><span class="o">.</span><span class="mi">1</span>
<span class="n">ASSOCIATEDPLATFORMSHORTNAME</span><span class="o">.</span><span class="mi">2</span>
<span class="n">ASSOCIATEDSENSORSHORTNAME</span><span class="o">.</span><span class="mi">1</span>
<span class="n">ASSOCIATEDSENSORSHORTNAME</span><span class="o">.</span><span class="mi">2</span>
<span class="n">AUTOMATICQUALITYFLAG</span><span class="o">.</span><span class="mi">1</span>
<span class="n">AUTOMATICQUALITYFLAGEXPLANATION</span><span class="o">.</span><span class="mi">1</span>
<span class="n">calibrated_nt</span>
<span class="n">CHARACTERISTICBINANGULARSIZE500M</span>
<span class="n">CHARACTERISTICBINSIZE500M</span>
<span class="n">DATACOLUMNS500M</span>
<span class="n">DATAROWS500M</span>
<span class="n">DAYNIGHTFLAG</span>
<span class="n">DESCRREVISION</span>
<span class="n">EASTBOUNDINGCOORDINATE</span>
<span class="n">ENGINEERING_DATA</span>
<span class="n">EXCLUSIONGRINGFLAG</span><span class="o">.</span><span class="mi">1</span>
<span class="n">GEOANYABNORMAL</span>
<span class="n">GEOESTMAXRMSERROR</span>
<span class="n">GLOBALGRIDCOLUMNS500M</span>
<span class="n">GLOBALGRIDROWS500M</span>
<span class="n">GRANULEBEGINNINGDATETIME</span>
<span class="n">GRANULEDAYNIGHTFLAG</span>
<span class="n">GRANULEENDINGDATETIME</span>
<span class="n">GRINGPOINTLATITUDE</span><span class="o">.</span><span class="mi">1</span>
<span class="n">GRINGPOINTLONGITUDE</span><span class="o">.</span><span class="mi">1</span>
<span class="n">GRINGPOINTSEQUENCENO</span><span class="o">.</span><span class="mi">1</span>
<span class="n">HDFEOSVersion</span>
<span class="n">HORIZONTALTILENUMBER</span>
<span class="n">identifier_product_doi</span>
<span class="n">identifier_product_doi_authority</span>
<span class="n">INPUTPOINTER</span>
<span class="n">LOCALGRANULEID</span>
<span class="n">LOCALVERSIONID</span>
<span class="n">LONGNAME</span>
<span class="n">long_name</span>
<span class="n">MAXIMUMOBSERVATIONS500M</span>
<span class="n">MOD15A1_ANC_BUILD_CERT</span>
<span class="n">MOD15A2_FILLVALUE_DOC</span>
<span class="n">MOD15A2_FparExtra_QC_DOC</span>
<span class="n">MOD15A2_FparLai_QC_DOC</span>
<span class="n">MOD15A2_StdDev_QC_DOC</span>
<span class="n">NADIRDATARESOLUTION500M</span>
<span class="n">NDAYS_COMPOSITED</span>
<span class="n">NORTHBOUNDINGCOORDINATE</span>
<span class="n">NUMBEROFGRANULES</span>
<span class="n">PARAMETERNAME</span><span class="o">.</span><span class="mi">1</span>
<span class="n">PGEVERSION</span>
<span class="n">PROCESSINGCENTER</span>
<span class="n">PROCESSINGENVIRONMENT</span>
<span class="n">PRODUCTIONDATETIME</span>
<span class="n">QAPERCENTCLOUDCOVER</span><span class="o">.</span><span class="mi">1</span>
<span class="n">QAPERCENTEMPIRICALMODEL</span>
<span class="n">QAPERCENTGOODFPAR</span>
<span class="n">QAPERCENTGOODLAI</span>
<span class="n">QAPERCENTGOODQUALITY</span>
<span class="n">QAPERCENTINTERPOLATEDDATA</span><span class="o">.</span><span class="mi">1</span>
<span class="n">QAPERCENTMAINMETHOD</span>
<span class="n">QAPERCENTMISSINGDATA</span><span class="o">.</span><span class="mi">1</span>
<span class="n">QAPERCENTOTHERQUALITY</span>
<span class="n">QAPERCENTOUTOFBOUNDSDATA</span><span class="o">.</span><span class="mi">1</span>
<span class="n">RANGEBEGINNINGDATE</span>
<span class="n">RANGEBEGINNINGTIME</span>
<span class="n">RANGEENDINGDATE</span>
<span class="n">RANGEENDINGTIME</span>
<span class="n">REPROCESSINGACTUAL</span>
<span class="n">REPROCESSINGPLANNED</span>
<span class="n">scale_factor</span>
<span class="n">scale_factor_err</span>
<span class="n">SCIENCEQUALITYFLAG</span><span class="o">.</span><span class="mi">1</span>
<span class="n">SCIENCEQUALITYFLAGEXPLANATION</span><span class="o">.</span><span class="mi">1</span>
<span class="n">SHORTNAME</span>
<span class="n">SOUTHBOUNDINGCOORDINATE</span>
<span class="n">SPSOPARAMETERS</span>
<span class="n">SYSTEMFILENAME</span>
<span class="n">TileID</span>
<span class="n">UM_VERSION</span>
<span class="n">units</span>
<span class="n">valid_range</span>
<span class="n">VERSIONID</span>
<span class="n">VERTICALTILENUMBER</span>
<span class="n">WESTBOUNDINGCOORDINATE</span>
<span class="n">_FillValue</span>
</pre></div>
</div>
<p>Let’s look at some of these metadata fields:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&#39;</span>
<span class="n">dataset_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="n">filename</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;dataset: </span><span class="si">{</span><span class="n">dataset_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>
<span class="c1"># get the metadata dictionary keys</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;LONGNAME&quot;</span><span class="p">,</span><span class="s2">&quot;CHARACTERISTICBINSIZE500M&quot;</span><span class="p">,</span>\
          <span class="s2">&quot;MOD15A2_FILLVALUE_DOC&quot;</span><span class="p">,</span>\
          <span class="s2">&quot;GRINGPOINTLATITUDE.1&quot;</span><span class="p">,</span><span class="s2">&quot;GRINGPOINTLONGITUDE.1&quot;</span><span class="p">,</span>\
          <span class="s1">&#39;scale_factor&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">g</span><span class="o">.</span><span class="n">GetMetadata</span><span class="p">()[</span><span class="n">k</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="p">:</span> <span class="n">HDF4_EOS</span><span class="p">:</span><span class="n">EOS_GRID</span><span class="p">:</span><span class="s2">&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;</span><span class="p">:</span><span class="n">MOD_Grid_MCD15A3H</span><span class="p">:</span><span class="n">Lai_500m</span>
<span class="n">LONGNAME</span> <span class="n">MODIS</span><span class="o">/</span><span class="n">Terra</span><span class="o">+</span><span class="n">Aqua</span> <span class="n">Leaf</span> <span class="n">Area</span> <span class="n">Index</span><span class="o">/</span><span class="n">FPAR</span> <span class="mi">4</span><span class="o">-</span><span class="n">Day</span> <span class="n">L4</span> <span class="n">Global</span> <span class="mi">500</span><span class="n">m</span> <span class="n">SIN</span> <span class="n">Grid</span>
<span class="n">CHARACTERISTICBINSIZE500M</span> <span class="mf">463.312716527778</span>
<span class="n">MOD15A2_FILLVALUE_DOC</span> <span class="n">MOD15A2</span> <span class="n">FILL</span> <span class="n">VALUE</span> <span class="n">LEGEND</span>
<span class="mi">255</span> <span class="o">=</span> <span class="n">_Fillvalue</span><span class="p">,</span> <span class="n">assigned</span> <span class="n">when</span><span class="p">:</span>
    <span class="o">*</span> <span class="n">the</span> <span class="n">MOD09GA</span> <span class="n">suf</span><span class="o">.</span> <span class="n">reflectance</span> <span class="k">for</span> <span class="n">channel</span> <span class="n">VIS</span><span class="p">,</span> <span class="n">NIR</span> <span class="n">was</span> <span class="n">assigned</span> <span class="n">its</span> <span class="n">_Fillvalue</span><span class="p">,</span> <span class="ow">or</span>
    <span class="o">*</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">pixel</span> <span class="n">itself</span> <span class="n">was</span> <span class="n">assigned</span> <span class="n">_Fillvalus</span> <span class="mi">255</span> <span class="ow">or</span> <span class="mf">254.</span>
<span class="mi">254</span> <span class="o">=</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">assigned</span> <span class="k">as</span> <span class="n">perennial</span> <span class="n">salt</span> <span class="ow">or</span> <span class="n">inland</span> <span class="n">fresh</span> <span class="n">water</span><span class="o">.</span>
<span class="mi">253</span> <span class="o">=</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">assigned</span> <span class="k">as</span> <span class="n">barren</span><span class="p">,</span> <span class="n">sparse</span> <span class="n">vegetation</span> <span class="p">(</span><span class="n">rock</span><span class="p">,</span> <span class="n">tundra</span><span class="p">,</span> <span class="n">desert</span><span class="o">.</span><span class="p">)</span>
<span class="mi">252</span> <span class="o">=</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">assigned</span> <span class="k">as</span> <span class="n">perennial</span> <span class="n">snow</span><span class="p">,</span> <span class="n">ice</span><span class="o">.</span>
<span class="mi">251</span> <span class="o">=</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">assigned</span> <span class="k">as</span> <span class="s2">&quot;permanent&quot;</span> <span class="n">wetlands</span><span class="o">/</span><span class="n">inundated</span> <span class="n">marshlands</span><span class="o">.</span>
<span class="mi">250</span> <span class="o">=</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">assigned</span> <span class="k">as</span> <span class="n">urban</span><span class="o">/</span><span class="n">built</span><span class="o">-</span><span class="n">up</span><span class="o">.</span>
<span class="mi">249</span> <span class="o">=</span> <span class="n">land</span> <span class="n">cover</span> <span class="n">assigned</span> <span class="k">as</span> <span class="s2">&quot;unclassified&quot;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">able</span> <span class="n">to</span> <span class="n">determine</span><span class="o">.</span>

<span class="n">GRINGPOINTLATITUDE</span><span class="o">.</span><span class="mi">1</span> <span class="mf">49.7394264948349</span><span class="p">,</span> <span class="mf">59.9999999946118</span><span class="p">,</span> <span class="mf">60.0089388384779</span><span class="p">,</span> <span class="mf">49.7424953501575</span>
<span class="n">GRINGPOINTLONGITUDE</span><span class="o">.</span><span class="mi">1</span> <span class="o">-</span><span class="mf">15.4860189105775</span><span class="p">,</span> <span class="o">-</span><span class="mf">19.9999999949462</span><span class="p">,</span> <span class="mf">0.0325645816155362</span><span class="p">,</span> <span class="mf">0.0125638874822839</span>
<span class="n">scale_factor</span> <span class="mf">0.1</span>
</pre></div>
</div>
<p>So we see that the datasets use the MODIS Sinusoidal projection. Also we see that the pixel spacing is around 463m, there is a scale factor of 0.1 to be applied etc.</p>
<p><strong>Exercise E3.3.3</strong></p>
<p>look at the metadata to discover:</p>
<ul class="simple">
<li><p>the number of rows and columns in the dataset</p></li>
<li><p>the range of valid values</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="reading-and-displaying-data">
<h2>3.3.3 Reading and displaying data<a class="headerlink" href="#reading-and-displaying-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="glob">
<h3>3.3.3.1 <code class="docutils literal notranslate"><span class="pre">glob</span></code><a class="headerlink" href="#glob" title="Permalink to this headline">¶</a></h3>
<p>Let us now suppose that we want to examine an <code class="docutils literal notranslate"><span class="pre">hdf</span></code> file that we have previously downloaded and stored in the directiory <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<p>How can we get a view into this directory to the the names of the files there?</p>
<p>The answer to this is <code class="docutils literal notranslate"><span class="pre">glob</span></code>, which we can access from the <code class="docutils literal notranslate"><span class="pre">pathlib</span></code> module.</p>
<p>Let’s look in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># look in this directory</span>
<span class="n">in_directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="n">in_directory</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;files in the directory&#39;</span><span class="p">,</span><span class="n">in_directory</span><span class="p">,</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>files in the directory data :
MCD15A3H.A2016213.h18v03.006.2016239132253.hdf
MCD15A3H.A2017149.h17v04.006.2017164112432.hdf
MCD15A3H.A2016301.h17v03.006.2016306070409.hdf
MCD15A3H.A2016337.h17v03.006.2016343064459.hdf
MCD15A3H.A2017293.h17v03.006.2017300140725.hdf
MCD15A3H.A2016121.h17v03.006.2016126073150.hdf
MCD15A3H.A2016253.h18v04.006.2016263190244.hdf
MCD15A3H.A2017161.h18v04.006.2017171201419.hdf
MCD15A3H.A2017281.h17v04.006.2017286040855.hdf
MCD15A3H.A2016197.h18v04.006.2016204134536.hdf
MCD15A3H.A2016097.h18v03.006.2016110204452.hdf
MCD15A3H.A2016061.h17v04.006.2016110203339.hdf
MCD15A3H.A2016293.h18v04.006.2016302003744.hdf
MCD15A3H.A2016169.h18v03.006.2016180114625.hdf
MCD15A3H.A2016273.h17v04.006.2016278070708.hdf
MCD15A3H.A2017157.h17v03.006.2017164112529.hdf
MCD15A3H.A2016149.h17v03.006.2016159123409.hdf
MCD15A3H.A2017297.h17v03.006.2017303194711.hdf
MCD15A3H.A2016273.h18v03.006.2016278070409.hdf
MCD15A3H.A2016253.h17v04.006.2016263190229.hdf
MCD15A3H.A2017301.h17v04.006.2017310191339.hdf
MCD15A3H.A2016265.h18v03.006.2016274181913.hdf
MCD15A3H.A2017325.h17v03.006.2017333160951.hdf
MCD15A3H.A2016181.h18v04.006.2016189192751.hdf
MCD15A3H.A2016365.h18v03.006.2017014005308.hdf
MCD15A3H.A2016165.h17v03.006.2016173050525.hdf
MCD15A3H.A2017037.h18v03.006.2017045204444.hdf
MCD15A3H.A2017301.h17v03.006.2017310191336.hdf
MCD15A3H.A2016277.h17v04.006.2016285121826.hdf
MCD15A3H.A2016009.h18v04.006.2016014074158.hdf
MCD15A3H.A2016365.h18v04.006.2017014005312.hdf
MCD15A3H.A2017065.h17v03.006.2017073193156.hdf
MCD15A3H.A2016073.h18v03.006.2016110203721.hdf
MCD15A3H.A2017h1_78_v0_34_LU.006.149_clip.FparLai_QC.vrt
MCD15A3H.A2016057.h17v03.006.2016111145933.hdf
MCD15A3H.A2017129.h17v03.006.2017137220918.hdf
MCD15A3H.A2016013.h17v04.006.2016020020246.hdf
MCD15A3H.A2017153.h18v03.006.2017164112502.hdf
MCD15A3H.A2017121.h17v03.006.2017126042343.hdf
MCD15A3H.A2017173.h17v03.006.2017178120232.hdf
MCD15A3H.A2017193.h18v03.006.2017198204128.hdf
MCD15A3H.A2016125.h18v03.006.2016130152323.hdf
MCD15A3H.A2017181.h18v04.006.2017191193813.hdf
MCD15A3H.A2016057.h18v04.006.2016111145944.hdf
MCD15A3H.A2016045.h17v03.006.2016054001450.hdf
MCD15A3H.A2016129.h17v04.006.2016135025251.hdf
MCD15A3H.A2017225.h18v04.006.2017230033412.hdf
MCD15A3H.A2016241.h18v03.006.2016246075613.hdf
MCD15A3H.A2017357.h18v03.006.2018002133701.hdf
MCD15A3H.A2016217.h18v04.006.2016239132347.hdf
MCD15A3H.A2017201.h17v04.006.2017212170610.hdf
MCD15A3H.A2016297.h17v03.006.2016302145250.hdf
MCD15A3H.A2016049.h17v04.006.2016111145800.hdf
MCD15A3H.A2016221.h17v04.006.2016239132433.hdf
MCD15A3H.A2017249.h18v03.006.2017254031612.hdf
MCD15A3H.A2017201.h17v03.006.2017212170608.hdf
MCD15A3H.A2016153.h17v04.006.2016159123436.hdf
MCD15A3H.A2017161.h18v03.006.2017171202109.hdf
MCD15A3H.A2016193.h17v03.006.2016198083739.hdf
MCD15A3H.A2016333.h18v04.006.2016340191400.hdf
MCD15A3H.A2016345.h17v03.006.2016350220356.hdf
MCD15A3H.A2017281.h18v04.006.2017286041648.hdf
delnorte.dat
MCD15A3H.A2017213.h18v03.006.2017227125009.hdf
MCD15A3H.A2016025.h17v03.006.2016034034334.hdf
MCD15A3H.A2016029.h18v04.006.2016043140353.hdf
MCD15A3H.A2016305.h17v03.006.2016310071300.hdf
MCD15A3H.A2016329.h17v04.006.2016340191259.hdf
MCD15A3H.A2017093.h18v04.006.2017104154933.hdf
MCD15A3H.A2016037.h18v04.006.2016043140911.hdf
MCD15A3H.A2017345.h17v04.006.2017353214204.hdf
MCD15A3H.A2016149.h17v04.006.2016159123404.hdf
MCD15A3H.A2016093.h18v04.006.2016110204342.hdf
MCD15A3H.A2016121.h17v04.006.2016126072647.hdf
MCD15A3H.A2017137.h17v04.006.2017142040116.hdf
MCD15A3H.A2017329.h18v04.006.2017334154345.hdf
MCD15A3H.A2018273.h18v04.006.2018278143638.hdf
MCD15A3H.A2017125.h18v04.006.2017135141218.hdf
MCD15A3H.A2017293.h18v04.006.2017300140745.hdf
MCD15A3H.A2016153.h18v03.006.2016159123441.hdf
MCD15A3H.A2017253.h17v03.006.2017258030241.hdf
MCD15A3H.A2016145.h18v03.006.2016159123336.hdf
MCD15A3H.A2016017.h17v03.006.2016027192752.hdf
MCD15A3H.A2017197.h17v03.006.2017202030505.hdf
MCD15A3H.A2017233.h18v03.006.2017248101414.hdf
MCD15A3H.A2016217.h17v03.006.2016239132333.hdf
MCD15A3H.A2016265.h18v04.006.2016274181937.hdf
MCD15A3H.A2017181.h18v03.006.2017191195658.hdf
MCD15A3H.A2016185.h18v03.006.2016190065408.hdf
MCD15A3H.A2016137.h18v03.006.2016142085230.hdf
NOAA.csv
MCD15A3H.A2016109.h17v04.006.2016116204817.hdf
MCD15A3H.A2017353.h17v03.006.2017361223000.hdf
MCD15A3H.A2017273.h18v04.006.2017278031535.hdf
MCD15A3H.A2016065.h18v04.006.2016110203503.hdf
MCD15A3H.A2016293.h17v04.006.2016302004722.hdf
MCD15A3H.A2016097.h18v04.006.2016110204502.hdf
MCD15A3H.A2016129.h18v03.006.2016135025557.hdf
lai_filelist_2017.dat.txt
MCD15A3H.A2017213.h18v04.006.2017227125012.hdf
MCD15A3H.A2017277.h17v04.006.2017283110749.hdf
MCD15A3H.A2016189.h17v03.006.2016194191636.hdf
MCD15A3H.A2017h1_78_v0_34_LU.006.149_clip.Lai_500m.vrt
MCD15A3H.A2017261.h18v03.006.2017266034710.hdf
MCD15A3H.A2016013.h18v03.006.2016020014424.hdf
huc250k_shp.zip
MCD15A3H.A2016269.h18v03.006.2016274182022.hdf
MCD15A3H.A2017361.h18v04.006.2018002204003.hdf
MCD15A3H.A2016289.h17v04.006.2016294095620.hdf
MCD15A3H.A2016269.h18v04.006.2016274182028.hdf
MCD15A3H.A2016225.h17v03.006.2016239132521.hdf
MCD15A3H.A2016061.h17v03.006.2016110203331.hdf
MCD15A3H.A2016161.h17v03.006.2016167030656.hdf
MCD15A3H.A2016041.h17v04.006.2016049125048.hdf
MCD15A3H.A2017329.h17v03.006.2017334154337.hdf
MCD15A3H.A2017217.h17v03.006.2017227125026.hdf
MCD15A3H.A2017113.h18v03.006.2017118201450.hdf
MCD15A3H.A2017157.h17v04.006.2017164112535.hdf
MCD15A3H.A2016061.h18v04.006.2016110203352.hdf
airtravel.csv
MCD15A3H.A2017333.h18v03.006.2017341183458.hdf
MCD15A3H.A2016245.h18v03.006.2016250072631.hdf
MCD15A3H.A2016101.h18v04.006.2016110204612.hdf
MCD15A3H.A2016305.h18v03.006.2016310071630.hdf
MCD15A3H.A2016237.h18v04.006.2016243035643.hdf
MCD15A3H.A2017077.h17v04.006.2017082115811.hdf
MCD15A3H.A2016177.h17v03.006.2016184043337.hdf
MCD15A3H.A2016005.h17v03.006.2016013012017.hdf
MCD15A3H.A2016257.h17v04.006.2016265021329.hdf
MCD15A3H.A2016021.h18v04.006.2016026124707.hdf
MCD15A3H.A2017305.h18v04.006.2017312184820.hdf
MCD15A3H.A2016173.h18v03.006.2016184015826.hdf
MCD15A3H.A2018273.h18v03.006.2018278143633.hdf
MCD15A3H.A2016321.h18v04.006.2016334064823.hdf
MCD15A3H.A2017305.h18v03.006.2017312184812.hdf
MCD15A3H.A2016141.h18v03.006.2016159123228.hdf
MCD15A3H.A2017245.h18v03.006.2017250143542.hdf
MCD15A3H.A2016113.h17v04.006.2016118071149.hdf
MCD15A3H.A2016089.h18v03.006.2016110204226.hdf
MCD15A3H.A2017061.h17v04.006.2017066071510.hdf
MCD15A3H.A2017333.h17v03.006.2017341183030.hdf
MCD15A3H.A2016017.h17v04.006.2016027192758.hdf
MCD15A3H.A2017341.h17v04.006.2017346031815.hdf
MCD15A3H.A2017033.h17v04.006.2017040180855.hdf
MCD15A3H.A2017125.h17v03.006.2017135145623.hdf
MCD15A3H.A2016309.h17v03.006.2016314071411.hdf
MCD15A3H.A2017117.h17v04.006.2017122033600.hdf
MCD15A3H.A2016329.h17v03.006.2016340191253.hdf
MCD15A3H.A2017005.h17v03.006.2017017141758.hdf
MCD15A3H.A2017113.h17v03.006.2017118202135.hdf
MCD15A3H.A2017285.h18v03.006.2017290125920.hdf
MCD15A3H.A2017041.h18v04.006.2017047163923.hdf
MCD15A3H.A2017345.h18v04.006.2017353214523.hdf
MCD15A3H.A2017005.h17v04.006.2017017141805.hdf
MCD15A3H.A2017177.h17v04.006.2017187180149.hdf
MCD15A3H.A2017185.h18v03.006.2017192121412.hdf
MCD15A3H.A2017205.h17v04.006.2017212200246.hdf
MCD15A3H.A2017309.h18v03.006.2017314035352.hdf
MCD15A3H.A2017245.h17v04.006.2017250143535.hdf
lai_filelist_2016.dat.txt
MCD15A3H.A2016349.h17v04.006.2016357070812.hdf
MCD15A3H.A2017277.h17v03.006.2017283110554.hdf
MCD15A3H.A2016141.h17v03.006.2016159123250.hdf
MCD15A3H.A2016209.h17v04.006.2016222122242.hdf
MCD15A3H.A2017237.h18v04.006.2017242030810.hdf
MCD15A3H.A2017169.h17v04.006.2017174032256.hdf
MCD15A3H.A2017317.h17v04.006.2017331160712.hdf
MCD15A3H.A2016081.h17v04.006.2016110203941.hdf
MCD15A3H.A2017265.h18v03.006.2017271135320.hdf
MCD15A3H.A2017249.h18v04.006.2017254030909.hdf
MCD15A3H.A2017041.h18v03.006.2017047163913.hdf
MCD15A3H.A2016069.h17v04.006.2016110203600.hdf
MCD15A3H.A2017261.h18v04.006.2017266034533.hdf
MCD15A3H.A2017069.h17v04.006.2017080124353.hdf
grb.wkt
MCD15A3H.A2017001.h17v03.006.2017014005341.hdf
MCD15A3H.A2017337.h18v04.006.2017342030439.hdf
MCD15A3H.A2016345.h17v04.006.2016350220821.hdf
MCD15A3H.A2017221.h18v03.006.2017227172755.hdf
MCD15A3H.A2016313.h18v03.006.2016320203216.hdf
MCD15A3H.A2017061.h18v03.006.2017066071820.hdf
MCD15A3H.A2016193.h18v04.006.2016198083748.hdf
MCD15A3H.A2016213.h17v04.006.2016239132235.hdf
MCD15A3H.A2016285.h17v04.006.2016291205844.hdf
MCD15A3H.A2017017.h18v04.006.2017024072610.hdf
MCD15A3H.A2017209.h17v03.006.2017214185419.hdf
MCD15A3H.A2016049.h17v03.006.2016111145759.hdf
MCD15A3H.A2016085.h17v03.006.2016110204055.hdf
MCD15A3H.A2017337.h17v04.006.2017342030858.hdf
MCD15A3H.A2017021.h18v03.006.2017031131458.hdf
MCD15A3H.A2017025.h17v04.006.2017031144746.hdf
MCD15A3H.A2017085.h17v03.006.2017094173906.hdf
test_image.bin
MCD15A3H.A2016285.h18v03.006.2016291210152.hdf
MCD15A3H.A2016029.h17v03.006.2016043140323.hdf
MCD15A3H.A2016237.h18v03.006.2016243035317.hdf
MCD15A3H.A2017261.h17v04.006.2017266034239.hdf
MCD15A3H.A2017313.h18v03.006.2017325161830.hdf
TM_WORLD_BORDERS-0.3.dbf
MCD15A3H.A2016325.h17v03.006.2016340191111.hdf
MCD15A3H.A2017189.h18v04.006.2017194104724.hdf
MCD15A3H.A2017169.h17v03.006.2017174032729.hdf
MCD15A3H.A2016337.h17v04.006.2016343064123.hdf
MCD15A3H.A2017281.h17v03.006.2017286041228.hdf
MCD15A3H.A2016161.h17v04.006.2016167025525.hdf
MCD15A3H.A2017325.h18v04.006.2017333160922.hdf
MCD15A3H.A2016313.h17v04.006.2016320201852.hdf
MCD15A3H.A2016181.h17v03.006.2016189192722.hdf
MCD15A3H.A2017333.h18v04.006.2017341183037.hdf
MCD15A3H.A2017105.h17v04.006.2017118140110.hdf
TM_WORLD_BORDERS-0.3.shp
MCD15A3H.A2017021.h17v03.006.2017031131446.hdf
MCD15A3H.A2017349.h17v03.006.2017354030323.hdf
MCD15A3H.A2017173.h18v04.006.2017178115707.hdf
MCD15A3H.A2016033.h17v04.006.2016043140634.hdf
MCD15A3H.A2017229.h17v03.006.2017234150110.hdf
MCD15A3H.A2016273.h18v04.006.2016278070712.hdf
MCD15A3H.A2017253.h18v03.006.2017258030728.hdf
MCD15A3H.A2017313.h17v04.006.2017325161820.hdf
MCD15A3H.A2016113.h17v03.006.2016118071447.hdf
MCD15A3H.A2017005.h18v04.006.2017017141824.hdf
MCD15A3H.A2016269.h17v04.006.2016274182008.hdf
?C=M;O=A
MCD15A3H.A2017361.h18v03.006.2018002204108.hdf
MCD15A3H.A2016201.h17v04.006.2016207215015.hdf
MCD15A3H.A2016177.h17v04.006.2016184043348.hdf
MCD15A3H.A2017089.h17v04.006.2017095140658.hdf
MCD15A3H.A2016269.h17v03.006.2016274182007.hdf
MCD15A3H.A2016317.h17v03.006.2016329045540.hdf
MCD15A3H.A2016049.h18v04.006.2016111145832.hdf
MCD15A3H.A2017297.h17v04.006.2017303195107.hdf
MCD15A3H.A2017217.h18v04.006.2017227125035.hdf
MCD15A3H.A2016321.h18v03.006.2016334064336.hdf
satellites-1957-2019.gz
MCD15A3H.A2017101.h17v04.006.2017116175131.hdf
MCD15A3H.A2017185.h17v04.006.2017192121428.hdf
MCD15A3H.A2017013.h18v03.006.2017021013754.hdf
MCD15A3H.A2017353.h17v04.006.2017361223126.hdf
MCD15A3H.A2017269.h18v04.006.2017276172441.hdf
MCD15A3H.A2017065.h18v03.006.2017073193400.hdf
MCD15A3H.A2017157.h18v03.006.2017164112532.hdf
MCD15A3H.A2017277.h18v03.006.2017283110825.hdf
MCD15A3H.A2016337.h18v03.006.2016343064522.hdf
MCD15A3H.A2017341.h18v03.006.2017346032329.hdf
MCD15A3H.A2016009.h18v03.006.2016014073048.hdf
MCD15A3H.A2017225.h17v03.006.2017230033016.hdf
MCD15A3H.A2016345.h18v03.006.2016350221132.hdf
MCD15A3H.A2016229.h17v03.006.2016239132612.hdf
MCD15A3H.A2017337.h17v03.006.2017342030946.hdf
MCD15A3H.A2016073.h17v03.006.2016110203711.hdf
MCD15A3H.A2016257.h18v04.006.2016265021336.hdf
TM_WORLD_BORDERS-0.3.shx
MCD15A3H.A2016141.h17v04.006.2016159123205.hdf
MCD15A3H.A2017093.h17v03.006.2017104154927.hdf
delNorteT_2005.dat
MCD15A3H.A2016121.h18v03.006.2016126073203.hdf
MCD15A3H.A2016137.h17v03.006.2016142085015.hdf
MCD15A3H.A2016129.h17v03.006.2016135030155.hdf
MCD15A3H.A2017285.h17v03.006.2017290125916.hdf
MCD15A3H.A2016261.h17v03.006.2016267014113.hdf
MCD15A3H.A2017297.h18v04.006.2017303195020.hdf
MCD15A3H.A2016125.h17v03.006.2016130152307.hdf
MCD15A3H.A2017049.h17v03.006.2017059114616.hdf
MCD15A3H.A2017117.h18v03.006.2017122032334.hdf
MCD15A3H.A2017.h1_78_v0_34_LU.006.gif
MCD15A3H.A2017285.h17v04.006.2017290125918.hdf
MCD15A3H.A2016365.h17v03.006.2017014005258.hdf
MCD15A3H.A2017321.h17v03.006.2017331211621.hdf
MCD15A3H.A2017201.h18v03.006.2017212170612.hdf
MCD15A3H.A2016261.h17v04.006.2016267013302.hdf
MCD15A3H.A2016289.h17v03.006.2016294100243.hdf
MCD15A3H.A2017025.h18v04.006.2017031145243.hdf
MCD15A3H.A2017293.h18v03.006.2017300140729.hdf
MCD15A3H.A2016297.h18v04.006.2016302145253.hdf
MCD15A3H.A2017141.h18v03.006.2017146025030.hdf
MCD15A3H.A2016241.h17v03.006.2016246080654.hdf
MCD15A3H.A2016209.h18v03.006.2016222122251.hdf
MCD15A3H.A2017269.h17v03.006.2017276172421.hdf
MCD15A3H.A2016065.h17v04.006.2016110203445.hdf
MCD15A3H.A2017185.h17v03.006.2017192121419.hdf
MCD15A3H.A2016105.h18v04.006.2016111235856.hdf
MCD15A3H.A2016097.h17v04.006.2016110204450.hdf
MCD15A3H.A2017089.h17v03.006.2017095141007.hdf
MCD15A3H.A2016329.h18v03.006.2016340191304.hdf
MCD15A3H.A2016033.h18v03.006.2016043140641.hdf
MCD15A3H.A2017193.h17v04.006.2017198204739.hdf
MCD15A3H.A2017073.h17v03.006.2017082030659.hdf
MCD15A3H.A2016045.h18v04.006.2016054001527.hdf
MCD15A3H.A2017101.h18v03.006.2017116175145.hdf
MCD15A3H.A2017009.h18v04.006.2017018072848.hdf
MCD15A3H.A2016361.h18v04.006.2017010020640.hdf
MCD15A3H.A2016169.h17v04.006.2016180114633.hdf
MCD15A3H.A2017057.h18v04.006.2017065220406.hdf
MCD15A3H.A2016273.h17v03.006.2016278065752.hdf
MCD15A3H.A2016145.h17v04.006.2016159123337.hdf
MCD15A3H.A2016117.h17v04.006.2016123133231.hdf
MCD15A3H.A2016353.h18v04.006.2016358104526.hdf
MCD15A3H.A2016089.h17v03.006.2016110204215.hdf
MCD15A3H.A2016313.h18v04.006.2016320201902.hdf
MCD15A3H.A2016305.h17v04.006.2016310071624.hdf
MCD15A3H.A2016077.h17v04.006.2016110203826.hdf
MCD15A3H.A2016173.h18v04.006.2016184015903.hdf
MCD15A3H.A2017133.h18v04.006.2017138030907.hdf
MCD15A3H.A2016137.h17v04.006.2016142085022.hdf
MCD15A3H.A2016185.h17v03.006.2016190065600.hdf
MCD15A3H.A2017133.h18v03.006.2017138030706.hdf
MCD15A3H.A2016281.h17v04.006.2016286204432.hdf
MCD15A3H.A2017109.h18v03.006.2017118140142.hdf
MCD15A3H.A2016169.h17v03.006.2016180114611.hdf
MCD15A3H.A2017041.h17v03.006.2017047163856.hdf
MCD15A3H.A2017029.h18v04.006.2017040040319.hdf
saved_daymet.csv
MCD15A3H.A2017265.h17v04.006.2017271135323.hdf
MCD15A3H.A2017329.h18v03.006.2017334154339.hdf
MCD15A3H.A2016205.h17v03.006.2016222121935.hdf
MCD15A3H.A2016333.h17v04.006.2016340191351.hdf
MCD15A3H.A2016021.h18v03.006.2016026124743.hdf
MCD15A3H.A2016245.h17v04.006.2016250072220.hdf
MCD15A3H.A2017097.h18v04.006.2017104155012.hdf
MCD15A3H.A2017113.h17v04.006.2017118184030.hdf
MCD15A3H.A2017149.h18v03.006.2017164112435.hdf
MCD15A3H.A2016101.h17v04.006.2016110204557.hdf
MCD15A3H.A2016221.h18v03.006.2016239132435.hdf
MCD15A3H.A2017161.h17v04.006.2017171195752.hdf
MCD15A3H.A2017029.h17v04.006.2017040035852.hdf
MCD15A3H.A2017273.h17v04.006.2017278031310.hdf
MCD15A3H.A2017213.h17v03.006.2017227125003.hdf
MCD15A3H.A2017097.h17v04.006.2017104154956.hdf
MCD15A3H.A2017097.h17v03.006.2017104154958.hdf
MCD15A3H.A2017365.h17v04.006.2018005032653.hdf
MCD15A3H.A2016001.h18v04.006.2016007073726.hdf
MCD15A3H.A2016233.h17v04.006.2016239160839.hdf
MCD15A3H.A2017177.h18v03.006.2017187174619.hdf
MCD15A3H.A2017137.h18v03.006.2017142041218.hdf
MCD15A3H.A2017045.h18v03.006.2017053101154.hdf
MCD15A3H.A2017165.h18v03.006.2017171120907.hdf
MCD15A3H.A2017241.h17v03.006.2017249173811.hdf
MCD15A3H.A2017257.h17v04.006.2017262125145.hdf
MCD15A3H.A2016161.h18v03.006.2016167030705.hdf
Hydrologic_Units.zip
MCD15A3H.A2016005.h17v04.006.2016013011406.hdf
MCD15A3H.A2016089.h17v04.006.2016110204226.hdf
MCD15A3H.A2016345.h18v04.006.2016350221138.hdf
MCD15A3H.A2016185.h18v04.006.2016190064636.hdf
MCD15A3H.A2017053.h18v03.006.2017059114705.hdf
MCD15A3H.A2017061.h18v04.006.2017066071522.hdf
MCD15A3H.A2017197.h17v04.006.2017202030356.hdf
MCD15A3H.A2016265.h17v04.006.2016274181914.hdf
MCD15A3H.A2016021.h17v03.006.2016026124738.hdf
MCD15A3H.A2017137.h17v03.006.2017142035858.hdf
MCD15A3H.A2017009.h17v03.006.2017018072233.hdf
MCD15A3H.A2017053.h18v04.006.2017059114709.hdf
MCD15A3H.A2017081.h17v04.006.2017087022119.hdf
MCD15A3H.A2018273.h17v04.006.2018278143630.hdf
MCD15A3H.A2017045.h17v03.006.2017053101326.hdf.aux.xml
MCD15A3H.A2017033.h18v04.006.2017040180859.hdf
MCD15A3H.A2017273.h18v03.006.2017278030912.hdf
MCD15A3H.A2016041.h17v03.006.2016049125032.hdf
MCD15A3H.A2017353.h18v03.006.2017361223009.hdf
MCD15A3H.A2016237.h17v04.006.2016243035316.hdf
MCD15A3H.A2017141.h17v03.006.2017146032650.hdf
MCD15A3H.A2017225.h18v03.006.2017230032836.hdf
MCD15A3H.A2017085.h17v04.006.2017094173942.hdf
MCD15A3H.A2017005.h18v03.006.2017017141813.hdf
MCD15A3H.A2017001.h18v03.006.2017014005401.hdf
MCD15A3H.A2017153.h17v03.006.2017164112454.hdf
MCD15A3H.A2017017.h17v04.006.2017024074333.hdf
MCD15A3H.A2017261.h17v03.006.2017266033704.hdf
lai_data_2017_UK.npz
MCD15A3H.A2017169.h18v03.006.2017174032256.hdf
MCD15A3H.A2017357.h18v04.006.2018002133807.hdf
MCD15A3H.A2016177.h18v03.006.2016184045617.hdf
MCD15A3H.A2017309.h17v04.006.2017314035345.hdf
MCD15A3H.A2017349.h18v04.006.2017354030436.hdf
MCD15A3H.A2016085.h18v03.006.2016110204107.hdf
MCD15A3H.A2016165.h18v03.006.2016173045725.hdf
MCD15A3H.A2017309.h17v03.006.2017314035405.hdf
MCD15A3H.A2017193.h18v04.006.2017198210928.hdf
MCD15A3H.A2017109.h17v03.006.2017118140139.hdf
MCD15A3H.A2017269.h17v04.006.2017276172429.hdf
MCD15A3H.A2017057.h17v04.006.2017065215830.hdf
MCD15A3H.A2016013.h17v03.006.2016020015242.hdf
MCD15A3H.A2016205.h17v04.006.2016222121939.hdf
MCD15A3H.A2016205.h18v04.006.2016222121954.hdf
MCD15A3H.A2017289.h18v03.006.2017297185623.hdf
MCD15A3H.A2016193.h17v04.006.2016198083237.hdf
MCD15A3H.A2017189.h17v03.006.2017194104917.hdf
MCD15A3H.A2016161.h18v04.006.2016167030708.hdf
MCD15A3H.A2017209.h18v04.006.2017214191653.hdf
MCD15A3H.A2017313.h17v03.006.2017325161816.hdf
MCD15A3H.A2017273.h17v03.006.2017278031533.hdf
MCD15A3H.A2017305.h17v04.006.2017312184421.hdf
MCD15A3H.A2017101.h17v03.006.2017116175258.hdf
MCD15A3H.A2016109.h17v03.006.2016116205141.hdf
MCD15A3H.A2017233.h17v04.006.2017248101412.hdf
MCD15A3H.A2016365.h17v04.006.2017014005300.hdf
MCD15A3H.A2017041.h17v04.006.2017047163857.hdf
MCD15A3H.A2017061.h17v03.006.2017066071759.hdf
MCD15A3H.A2017217.h18v03.006.2017227125027.hdf
MCD15A3H.A2017001.h18v04.006.2017014005359.hdf
MCD15A3H.A2017073.h17v04.006.2017082030700.hdf
MCD15A3H.A2016281.h17v03.006.2016286210532.hdf
MCD15A3H.A2016005.h18v03.006.2016013012348.hdf
MCD15A3H.A2017265.h17v03.006.2017271135322.hdf
MCD15A3H.A2016037.h17v04.006.2016043140849.hdf
?C=D;O=A
MCD15A3H.A2016297.h18v03.006.2016302145256.hdf
?C=S;O=A
MCD15A3H.A2017009.h18v03.006.2017018072246.hdf
MCD15A3H.A2017145.h18v03.006.2017151151534.hdf
MCD15A3H.A2016101.h17v03.006.2016110204557.hdf
MCD15A3H.A2016341.h17v04.006.2016348174258.hdf
MCD15A3H.A2017357.h17v04.006.2018002133721.hdf
MCD15A3H.A2017133.h17v03.006.2017138035345.hdf
MCD15A3H.A2017017.h17v03.006.2017024074330.hdf
delNorteT.dat
MCD15A3H.A2016085.h18v04.006.2016110204111.hdf
daymet_tmax.csv
MCD15A3H.A2016081.h18v04.006.2016110203956.hdf
MCD15A3H.A2017181.h17v03.006.2017191190136.hdf
data2006.pkl
MCD15A3H.A2016293.h18v03.006.2016302004112.hdf
MCD15A3H.A2017253.h17v04.006.2017258030637.hdf
MCD15A3H.A2017277.h18v04.006.2017283110822.hdf
MCD15A3H.A2017109.h18v04.006.2017118140142.hdf
MCD15A3H.A2016245.h17v03.006.2016250072631.hdf
MCD15A3H.A2017329.h17v04.006.2017334154340.hdf
MCD15A3H.A2016325.h18v04.006.2016340191121.hdf
MCD15A3H.A2017145.h17v03.006.2017151145707.hdf
MCD15A3H.A2016157.h18v04.006.2016166093925.hdf
MCD15A3H.A2017297.h18v03.006.2017303194717.hdf
MCD15A3H.A2017233.h17v03.006.2017248101404.hdf
MCD15A3H.A2016073.h17v04.006.2016110203728.hdf
MCD15A3H.A2016141.h18v04.006.2016159123303.hdf
MCD15A3H.A2016337.h18v04.006.2016343064525.hdf
MCD15A3H.A2017125.h18v03.006.2017135140955.hdf
MCD15A3H.A2017241.h18v03.006.2017249173536.hdf
MCD15A3H.A2016077.h17v03.006.2016110203826.hdf
MCD15A3H.A2016005.h18v04.006.2016013012025.hdf
MCD15A3H.A2016289.h18v04.006.2016294095959.hdf
MCD15A3H.A2016145.h17v03.006.2016159123331.hdf
MCD15A3H.A2017229.h17v04.006.2017234145900.hdf
Lai_500m_2017_149_LU.tif
MCD15A3H.A2016229.h17v04.006.2016239132615.hdf
MCD15A3H.A2017029.h17v03.006.2017040040835.hdf
MCD15A3H.A2017037.h17v03.006.2017045204125.hdf
MCD15A3H.A2016309.h18v04.006.2016314071420.hdf
MCD15A3H.A2016109.h18v04.006.2016116205500.hdf
MCD15A3H.A2017257.h17v03.006.2017262125146.hdf
MCD15A3H.A2016301.h18v03.006.2016306070747.hdf
MCD15A3H.A2017365.h18v04.006.2018005032627.hdf
MCD15A3H.A2017057.h17v03.006.2017065214509.hdf
MCD15A3H.A2016037.h17v03.006.2016043140850.hdf
MCD15A3H.A2016201.h18v04.006.2016207215338.hdf
MCD15A3H.A2017321.h18v04.006.2017331211501.hdf
MCD15A3H.A2016065.h17v03.006.2016110203443.hdf
MCD15A3H.A2016069.h18v04.006.2016110203615.hdf
MCD15A3H.A2016249.h18v04.006.2016263190223.hdf
MCD15A3H.A2016041.h18v03.006.2016049125050.hdf
MCD15A3H.A2017017.h18v03.006.2017024073222.hdf
MCD15A3H.A2017357.h17v03.006.2018002133710.hdf
MCD15A3H.A2016117.h18v04.006.2016123133254.hdf
MCD15A3H.A2017045.h17v04.006.2017053101338.hdf
MCD15A3H.A2017317.h18v03.006.2017331160709.hdf
MCD15A3H.A2017h1_78_v0_34_LU.006.149.FparLai_QC.vrt
MCD15A3H.A2016209.h18v04.006.2016222122257.hdf
Mauna_Loa
MCD15A3H.A2016349.h18v04.006.2016357070838.hdf
MCD15A3H.A2017201.h18v04.006.2017212170614.hdf
MCD15A3H.A2016077.h18v04.006.2016110203846.hdf
MCD15A3H.A2016233.h17v03.006.2016239154552.hdf
MCD15A3H.A2016197.h17v03.006.2016204134529.hdf
MCD15A3H.A2017069.h18v04.006.2017080124409.hdf
data2005.pkl
MCD15A3H.A2016001.h18v03.006.2016007073724.hdf
MCD15A3H.A2017249.h17v03.006.2017254031358.hdf
MCD15A3H.A2016061.h18v03.006.2016110203332.hdf
MCD15A3H.A2017109.h17v04.006.2017118140138.hdf
MCD15A3H.A2017205.h18v04.006.2017212195556.hdf
MCD15A3H.A2016001.h17v04.006.2016007074809.hdf
MCD15A3H.A2017153.h17v04.006.2017164112454.hdf
MCD15A3H.A2016349.h17v03.006.2016357073003.hdf
MCD15A3H.A2016197.h17v04.006.2016204134527.hdf
MCD15A3H.A2017049.h17v04.006.2017059114610.hdf
MCD15A3H.A2017157.h18v04.006.2017164112536.hdf
MCD15A3H.A2017125.h17v04.006.2017135151227.hdf
MCD15A3H.A2017241.h17v04.006.2017249173608.hdf
MCD15A3H.A2017237.h17v03.006.2017242030759.hdf
MCD15A3H.A2017169.h18v04.006.2017174031818.hdf
MCD15A3H.A2016009.h17v03.006.2016014071957.hdf
MCD15A3H.A2018273.h17v03.006.2018278143630.hdf
MCD15A3H.A2017065.h18v04.006.2017073193612.hdf
MCD15A3H.A2017253.h18v04.006.2017258030249.hdf
MCD15A3H.A2017009.h17v04.006.2017018072237.hdf
MCD15A3H.A2017365.h18v03.006.2018005032348.hdf
MCD15A3H.A2017193.h17v03.006.2017198204504.hdf
MCD15A3H.A2016277.h18v03.006.2016285121828.hdf
MCD15A3H.A2016265.h17v03.006.2016274181912.hdf
MCD15A3H.A2016189.h18v04.006.2016194192044.hdf
MCD15A3H.A2017161.h17v03.006.2017171200126.hdf
MCD15A3H.A2017133.h17v04.006.2017138033305.hdf
MCD15A3H.A2017269.h18v03.006.2017276172441.hdf
MCD15A3H.A2017165.h18v04.006.2017171120915.hdf
MCD15A3H.A2016133.h17v04.006.2016140155030.hdf
MCD15A3H.A2017093.h17v04.006.2017104154919.hdf
MCD15A3H.A2017213.h17v04.006.2017227125011.hdf
MCD15A3H.A2016329.h18v04.006.2016340191313.hdf
MCD15A3H.A2016045.h18v03.006.2016054001450.hdf
MCD15A3H.A2017229.h18v04.006.2017234150154.hdf
MCD15A3H.A2016201.h18v03.006.2016207215333.hdf
MCD15A3H.A2016349.h18v03.006.2016357070826.hdf
MCD15A3H.A2017341.h18v04.006.2017346031740.hdf
MCD15A3H.A2017197.h18v03.006.2017202033146.hdf
MCD15A3H.A2017241.h18v04.006.2017249173311.hdf
MCD15A3H.A2016137.h18v04.006.2016142090113.hdf
MCD15A3H.A2016025.h18v04.006.2016034034846.hdf
MCD15A3H.A2016225.h18v04.006.2016239132529.hdf
MCD15A3H.A2016333.h17v03.006.2016340191343.hdf
MCD15A3H.A2017121.h18v04.006.2017126042012.hdf
MCD15A3H.A2016145.h18v04.006.2016159123342.hdf
MCD15A3H.A2016225.h18v03.006.2016239132527.hdf
MCD15A3H.A2016081.h18v03.006.2016110204002.hdf
MCD15A3H.A2017045.h17v03.006.2017053101326.hdf
MCD15A3H.A2017209.h18v03.006.2017214191509.hdf
MCD15A3H.A2016133.h18v04.006.2016140155048.hdf
MCD15A3H.A2017237.h17v04.006.2017242030424.hdf
MCD15A3H.A2017077.h18v03.006.2017082120524.hdf
MCD15A3H.A2017141.h18v04.006.2017146025218.hdf
MCD15A3H.A2017221.h17v04.006.2017227170001.hdf
MCD15A3H.A2016357.h17v03.006.2016362100705.hdf
MCD15A3H.A2017305.h17v03.006.2017312184425.hdf
MCD15A3H.A2016149.h18v03.006.2016159123409.hdf
MCD15A3H.A2016289.h18v03.006.2016294095953.hdf
MCD15A3H.A2016281.h18v03.006.2016286204934.hdf
MCD15A3H.A2017221.h17v03.006.2017227170437.hdf
MCD15A3H.A2017141.h17v04.006.2017146031758.hdf
MCD15A3H.A2016189.h17v04.006.2016194191327.hdf
MCD15A3H.A2017045.h18v04.006.2017053101351.hdf
MCD15A3H.A2017205.h17v03.006.2017212195915.hdf
MCD15A3H.A2017113.h18v04.006.2017118184056.hdf
MCD15A3H.A2016353.h18v03.006.2016358104522.hdf
MCD15A3H.A2017021.h17v04.006.2017031131450.hdf
MCD15A3H.A2016117.h17v03.006.2016123133231.hdf
MCD15A3H.A2016357.h17v04.006.2016362100709.hdf
MCD15A3H.A2017081.h17v03.006.2017087022308.hdf
MCD15A3H.A2016149.h18v04.006.2016159123411.hdf
MCD15A3H.A2016241.h18v04.006.2016246075129.hdf
MCD15A3H.A2016033.h18v04.006.2016043140709.hdf
MCD15A3H.A2016033.h17v03.006.2016043140622.hdf
MCD15A3H.A2016133.h17v03.006.2016140155029.hdf
MCD15A3H.A2016325.h18v03.006.2016340191117.hdf
MCD15A3H.A2017117.h18v04.006.2017122031947.hdf
MCD15A3H.A2017177.h17v03.006.2017187174125.hdf
MCD15A3H.A2016133.h18v03.006.2016140155050.hdf
MCD15A3H.A2016245.h18v04.006.2016250072642.hdf
MCD15A3H.A2016097.h17v03.006.2016110204444.hdf
MCD15A3H.A2016249.h18v03.006.2016263190217.hdf
MCD15A3H.A2017077.h18v04.006.2017082120528.hdf
MCD15A3H.A2017013.h18v04.006.2017021013757.hdf
MCD15A3H.A2016173.h17v03.006.2016184020251.hdf
MCD15A3H.A2016121.h18v04.006.2016126072929.hdf
MCD15A3H.A2017317.h18v04.006.2017331160715.hdf
MCD15A3H.A2016117.h18v03.006.2016123133248.hdf
MCD15A3H.A2016201.h17v03.006.2016207215017.hdf
MCD15A3H.A2016313.h17v03.006.2016320202245.hdf
MCD15A3H.A2016241.h17v04.006.2016246080640.hdf
MCD15A3H.A2016049.h18v03.006.2016111145825.hdf
MCD15A3H.A2017321.h18v03.006.2017331211508.hdf
MCD15A3H.A2017029.h18v03.006.2017040040308.hdf
MCD15A3H.A2016125.h17v04.006.2016130152307.hdf
MCD15A3H.A2017197.h18v04.006.2017202034355.hdf
MCD15A3H.A2017173.h18v03.006.2017178115328.hdf
data.pkl
MCD15A3H.A2017069.h18v03.006.2017080124401.hdf
MCD15A3H.A2016113.h18v04.006.2016118071207.hdf
MCD15A3H.A2016041.h18v04.006.2016049125059.hdf
MCD15A3H.A2017289.h17v04.006.2017297185846.hdf
MCD15A3H.A2016069.h18v03.006.2016110203608.hdf
MCD15A3H.A2016093.h17v04.006.2016110204342.hdf
MCD15A3H.A2016237.h17v03.006.2016243035304.hdf
MCD15A3H.A2017221.h18v04.006.2017227170912.hdf
MCD15A3H.A2016205.h18v03.006.2016222121947.hdf
MCD15A3H.A2017085.h18v03.006.2017094173929.hdf
MCD15A3H.A2017105.h17v03.006.2017118140107.hdf
MCD15A3H.A2016277.h18v04.006.2016285121830.hdf
MCD15A3H.A2016321.h17v04.006.2016334063807.hdf
MCD15A3H.A2016013.h18v04.006.2016020014435.hdf
MCD15A3H.A2016217.h18v03.006.2016239132341.hdf
test.bin
MCD15A3H.A2016189.h18v03.006.2016194192007.hdf
TM_WORLD_BORDERS-0.3.prj
MCD15A3H.A2016153.h17v03.006.2016159123426.hdf
MCD15A3H.A2017301.h18v04.006.2017310191349.hdf
MCD15A3H.A2016209.h17v03.006.2016222122240.hdf
MCD15A3H.A2017101.h18v04.006.2017116175453.hdf
MCD15A3H.A2017217.h17v04.006.2017227125027.hdf
MCD15A3H.A2017173.h17v04.006.2017178115338.hdf
MCD15A3H.A2017285.h18v04.006.2017290125934.hdf
MCD15A3H.A2016045.h17v04.006.2016054001456.hdf
MCD15A3H.A2017189.h18v03.006.2017194104914.hdf
MCD15A3H.A2017081.h18v03.006.2017087021811.hdf
MCD15A3H.A2016257.h18v03.006.2016265021755.hdf
MCD15A3H.A2016173.h17v04.006.2016184033245.hdf
MCD15A3H.A2017313.h18v04.006.2017325161833.hdf
MCD15A3H.A2017365.h17v03.006.2018005032624.hdf
MCD15A3H.A2016057.h17v04.006.2016111145935.hdf
modis_6974.wkt
MCD15A3H.A2017325.h17v04.006.2017333160942.hdf
MCD15A3H.A2016085.h17v04.006.2016110204056.hdf
MCD15A3H.A2016229.h18v04.006.2016239132624.hdf
MCD15A3H.A2016089.h18v04.006.2016110204226.hdf
MCD15A3H.A2017245.h18v04.006.2017250143542.hdf
MCD15A3H.A2016073.h18v04.006.2016110203727.hdf
MCD15A3H.A2016285.h17v03.006.2016291205846.hdf
MCD15A3H.A2016213.h17v03.006.2016239132222.hdf
MCD15A3H.A2016281.h18v04.006.2016286210123.hdf
?C=N;O=D
MCD15A3H.A2016217.h17v04.006.2016239132337.hdf
MCD15A3H.A2016301.h18v04.006.2016306071032.hdf
MCD15A3H.A2016341.h18v03.006.2016348175231.hdf
MCD15A3H.A2017165.h17v04.006.2017171120908.hdf
MCD15A3H.A2016165.h18v04.006.2016173045552.hdf
MCD15A3H.A2017081.h18v04.006.2017087022318.hdf
MCD15A3H.A2017177.h18v04.006.2017187173712.hdf
MCD15A3H.A2017057.h18v03.006.2017065214511.hdf
MCD15A3H.A2016249.h17v03.006.2016263190209.hdf
MCD15A3H.A2017077.h17v03.006.2017082120504.hdf
MCD15A3H.A2017069.h17v03.006.2017080124350.hdf
MCD15A3H.A2017097.h18v03.006.2017104154959.hdf
MCD15A3H.A2017089.h18v03.006.2017095135755.hdf
MCD15A3H.A2016361.h17v04.006.2017010015748.hdf
MCD15A3H.A2017053.h17v03.006.2017059114658.hdf
MCD15A3H.A2017065.h17v04.006.2017073192307.hdf
MCD15A3H.A2016001.h17v03.006.2016007075833.hdf
MCD15A3H.A2016017.h18v04.006.2016027193356.hdf
MCD15A3H.A2016213.h18v04.006.2016239132255.hdf
MCD15A3H.A2017317.h17v03.006.2017331160711.hdf
MCD15A3H.A2016301.h17v04.006.2016306065943.hdf
MCD15A3H.A2017309.h18v04.006.2017314035353.hdf
MCD15A3H.A2016253.h18v03.006.2016263190242.hdf
MCD15A3H.A2017053.h17v04.006.2017059114656.hdf
MCD15A3H.A2017325.h18v03.006.2017333160920.hdf
MCD15A3H.A2016261.h18v04.006.2016267013305.hdf
MCD15A3H.A2017021.h18v04.006.2017031131510.hdf
MCD15A3H.A2017289.h17v03.006.2017297190158.hdf
MCD15A3H.A2017341.h17v03.006.2017346032258.hdf
MCD15A3H.A2017117.h17v03.006.2017122032131.hdf
MCD15A3H.A2016285.h18v04.006.2016291211648.hdf
MCD15A3H.A2017205.h18v03.006.2017212195658.hdf
MCD15A3H.A2016081.h17v03.006.2016110203940.hdf
MCD15A3H.A2017289.h18v04.006.2017297185318.hdf
MCD15A3H.A2017145.h18v04.006.2017151144037.hdf
MCD15A3H.A2016177.h18v04.006.2016184044437.hdf
MCD15A3H.A2017145.h17v04.006.2017151144648.hdf
MCD15A3H.A2017149.h17v03.006.2017164112436.hdf
MCD15A3H.A2016249.h17v04.006.2016263190211.hdf
MCD15A3H.A2017037.h18v04.006.2017045203931.hdf
MCD15A3H.A2016057.h18v03.006.2016111145941.hdf
MCD15A3H.A2016129.h18v04.006.2016135032944.hdf
MCD15A3H.A2017349.h17v04.006.2017354030754.hdf
MCD15A3H.A2017321.h17v04.006.2017331211453.hdf
MCD15A3H.A2016277.h17v03.006.2016285121823.hdf
MCD15A3H.A2016357.h18v03.006.2016362103038.hdf
MCD15A3H.A2017149.h18v04.006.2017164112441.hdf
MCD15A3H.A2016109.h18v03.006.2016116205828.hdf
MCD15A3H.A2016157.h18v03.006.2016166094604.hdf
MCD15A3H.A2017121.h18v03.006.2017126042047.hdf
MCD15A3H.A2017013.h17v03.006.2017021013427.hdf
MCD15A3H.A2016357.h18v04.006.2016362101147.hdf
MCD15A3H.A2016317.h17v04.006.2016329045532.hdf
MCD15A3H.A2016257.h17v03.006.2016265021317.hdf
MCD15A3H.A2016221.h18v04.006.2016239132440.hdf
MCD15A3H.A2016229.h18v03.006.2016239132614.hdf
MCD15A3H.A2016309.h18v03.006.2016314071935.hdf
MCD15A3H.A2017037.h17v04.006.2017045203544.hdf
MCD15A3H.A2017209.h17v04.006.2017214185419.hdf
MCD15A3H.A2016105.h17v04.006.2016112000523.hdf
MCD15A3H.A2016293.h17v03.006.2016302004719.hdf
MCD15A3H.A2017121.h17v04.006.2017126042347.hdf
MCD15A3H.A2016037.h18v03.006.2016043140917.hdf
MCD15A3H.A2017333.h17v04.006.2017341183224.hdf
MCD15A3H.A2017165.h17v03.006.2017171120905.hdf
MCD15A3H.A2016309.h17v04.006.2016314071413.hdf
MCD15A3H.A2017089.h18v04.006.2017095135837.hdf
MCD15A3H.A2017361.h17v04.006.2018002204315.hdf
MCD15A3H.A2016361.h17v03.006.2017010015745.hdf
MCD15A3H.A2017073.h18v04.006.2017082030724.hdf
MCD15A3H.A2016185.h17v04.006.2016190064224.hdf
MCD15A3H.A2017049.h18v04.006.2017059114622.hdf
MCD15A3H.A2016093.h17v03.006.2016110204329.hdf
MCD15A3H.A2017049.h18v03.006.2017059114610.hdf
MCD15A3H.A2016029.h18v03.006.2016043140341.hdf
MCD15A3H.A2017237.h18v03.006.2017242030804.hdf
MCD15A3H.A2016157.h17v03.006.2016166093852.hdf
MCD15A3H.A2016233.h18v03.006.2016239161901.hdf
MCD15A3H.A2016333.h18v03.006.2016340191348.hdf
MCD15A2.A2011185.h09v05.005.2011213154534.hdf
MCD15A3H.A2016297.h17v04.006.2016302145240.hdf
MCD15A3H.A2016181.h17v04.006.2016189192727.hdf
MCD15A3H.A2017337.h18v03.006.2017342030824.hdf
MCD15A3H.A2016113.h18v03.006.2016118072403.hdf
MCD15A3H.A2017257.h18v04.006.2017262125209.hdf
MCD15A3H.A2016009.h17v04.006.2016014072006.hdf
MCD15A3H.A2017013.h17v04.006.2017021013955.hdf
MCD15A3H.A2017225.h17v04.006.2017230032627.hdf
MCD15A3H.A2017265.h18v04.006.2017271135324.hdf
MCD15A3H.A2017025.h18v03.006.2017031145746.hdf
MCD15A3H.A2016105.h17v03.006.2016112000529.hdf
MCD15A3H.A2016341.h18v04.006.2016348175238.hdf
MCD15A3H.A2017257.h18v03.006.2017262125159.hdf
MCD15A3H.A2017345.h18v03.006.2017353215001.hdf
MCD15A3H.A2016353.h17v04.006.2016358104045.hdf
MCD15A3H.A2016065.h18v03.006.2016110203500.hdf
MCD15A3H.A2016025.h18v03.006.2016034034341.hdf
MCD15A3H.A2017153.h18v04.006.2017164112502.hdf
MCD15A3H.A2016325.h17v04.006.2016340191114.hdf
MCD15A3H.A2016181.h18v03.006.2016189192744.hdf
MCD15A3H.A2016341.h17v03.006.2016348175105.hdf
MCD15A3H.A2017233.h18v04.006.2017248101417.hdf
MCD15A3H.A2016305.h18v04.006.2016310071637.hdf
MCD15A3H.A2016233.h18v04.006.2016239154620.hdf
MCD15A3H.A2016153.h18v04.006.2016159123443.hdf
MCD15A3H.A2017025.h17v03.006.2017031144743.hdf
MCD15A3H.A2017229.h18v03.006.2017234145904.hdf
MCD15A3H.A2017105.h18v04.006.2017118140110.hdf
MCD15A3H.A2016253.h17v03.006.2016263190229.hdf
MCD15A3H.A2017349.h18v03.006.2017354031001.hdf
MCD15A3H.A2017137.h18v04.006.2017142041122.hdf
MCD15A3H.A2016017.h18v03.006.2016027193558.hdf
MCD15A3H.A2017093.h18v03.006.2017104154924.hdf
MCD15A3H.A2017h1_78_v0_34_LU.006.149.Lai_500m.vrt
MCD15A3H.A2016169.h18v04.006.2016180114625.hdf
MCD15A3H.A2016021.h17v04.006.2016026124414.hdf
MCD15A3H.A2017189.h17v04.006.2017194104804.hdf
MCD15A3H.A2017073.h18v03.006.2017082031545.hdf
MCD15A3H.A2017353.h18v04.006.2017361223133.hdf
MCD15A3H.A2016317.h18v04.006.2016329045605.hdf
Lai_500m_2017_001_UK.tif
MCD15A3H.A2017085.h18v04.006.2017094173947.hdf
MCD15A3H.A2017001.h17v04.006.2017014005344.hdf
MCD15A3H.A2017185.h18v04.006.2017192121429.hdf
MCD15A3H.A2016125.h18v04.006.2016130152322.hdf
MCD15A3H.A2017129.h18v04.006.2017137215059.hdf
MCD15A3H.A2017033.h17v03.006.2017040180926.hdf
MCD15A3H.A2017293.h17v04.006.2017300140731.hdf
MCD15A3H.A2016193.h18v03.006.2016198085248.hdf
MCD15A3H.A2016221.h17v03.006.2016239132432.hdf
MCD15A3H.A2017361.h17v03.006.2018002204120.hdf
MCD15A3H.A2016157.h17v04.006.2016166093859.hdf
MCD15A3H.A2017249.h17v04.006.2017254031050.hdf
MCD15A3H.A2016225.h17v04.006.2016239132525.hdf
MCD15A3H.A2017345.h17v03.006.2017353214417.hdf
MCD15A3H.A2017129.h17v04.006.2017137220847.hdf
MCD15A3H.A2017129.h18v03.006.2017137215055.hdf
MCD15A3H.A2016165.h17v04.006.2016173045301.hdf
MCD15A3H.A2016261.h18v03.006.2016267015350.hdf
MCD15A3H.A2016353.h17v03.006.2016358104510.hdf
MCD15A3H.A2017105.h18v03.006.2017118140108.hdf
MCD15A3H.A2016069.h17v03.006.2016110203559.hdf
MCD15A3H.A2016105.h18v03.006.2016112000619.hdf
MCD15A3H.A2016077.h18v03.006.2016110203839.hdf
MCD15A3H.A2017033.h18v03.006.2017040180948.hdf
MCD15A3H.A2016093.h18v03.006.2016110204342.hdf
MCD15A3H.A2016101.h18v03.006.2016110204603.hdf
MCD15A3H.A2016029.h17v04.006.2016043140330.hdf
MCD15A3H.A2016025.h17v04.006.2016034035837.hdf
MCD15A3H.A2016361.h18v03.006.2017010020636.hdf
FparLai_QC_2017_149_LU.tif
MCD15A3H.A2016197.h18v03.006.2016204134521.hdf
MCD15A3H.A2016321.h17v03.006.2016334064334.hdf
MCD15A3H.A2017181.h17v04.006.2017191185802.hdf
MCD15A3H.A2017281.h18v03.006.2017286041304.hdf
TM_WORLD_BORDERS-0.3.zip
MCD15A3H.A2016317.h18v03.006.2016329045542.hdf
GlobAlbedo.merge.albedo.05.200901.nc
MCD15A3H.A2017301.h18v03.006.2017310191343.hdf
MCD15A3H.A2017245.h17v03.006.2017250143531.hdf
</pre></div>
</div>
<p>We use the argument <code class="docutils literal notranslate"><span class="pre">'data/*'</span></code> where <code class="docutils literal notranslate"><span class="pre">*</span></code> is a wildcard. Any filenames that match this pattern will be returned as a list.</p>
<p>If we want the list sorted, we need to use the <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> method. This is similar to the list <code class="docutils literal notranslate"><span class="pre">sort</span></code> we have seen previously, but returns the sorted list.</p>
<p>The wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code> here means a match to zero or more characters, so this is matching all names in the directory <code class="docutils literal notranslate"><span class="pre">data</span></code>. The wildcard <code class="docutils literal notranslate"><span class="pre">**</span></code> would mean <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.glob">all files here and all sub-directories</a>.</p>
<p>We could be more subtle with this, e.g. matching only files ending <code class="docutils literal notranslate"><span class="pre">hdf</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>?C=D;O=A
?C=M;O=A
?C=N;O=D
?C=S;O=A
FparLai_QC_2017_149_LU.tif
GlobAlbedo.merge.albedo.05.200901.nc
Hydrologic_Units.zip
Lai_500m_2017_001_UK.tif
Lai_500m_2017_149_LU.tif
MCD15A2.A2011185.h09v05.005.2011213154534.hdf
MCD15A3H.A2016001.h17v03.006.2016007075833.hdf
MCD15A3H.A2016001.h17v04.006.2016007074809.hdf
MCD15A3H.A2016001.h18v03.006.2016007073724.hdf
MCD15A3H.A2016001.h18v04.006.2016007073726.hdf
MCD15A3H.A2016005.h17v03.006.2016013012017.hdf
MCD15A3H.A2016005.h17v04.006.2016013011406.hdf
MCD15A3H.A2016005.h18v03.006.2016013012348.hdf
MCD15A3H.A2016005.h18v04.006.2016013012025.hdf
MCD15A3H.A2016009.h17v03.006.2016014071957.hdf
MCD15A3H.A2016009.h17v04.006.2016014072006.hdf
MCD15A3H.A2016009.h18v03.006.2016014073048.hdf
MCD15A3H.A2016009.h18v04.006.2016014074158.hdf
MCD15A3H.A2016013.h17v03.006.2016020015242.hdf
MCD15A3H.A2016013.h17v04.006.2016020020246.hdf
MCD15A3H.A2016013.h18v03.006.2016020014424.hdf
MCD15A3H.A2016013.h18v04.006.2016020014435.hdf
MCD15A3H.A2016017.h17v03.006.2016027192752.hdf
MCD15A3H.A2016017.h17v04.006.2016027192758.hdf
MCD15A3H.A2016017.h18v03.006.2016027193558.hdf
MCD15A3H.A2016017.h18v04.006.2016027193356.hdf
MCD15A3H.A2016021.h17v03.006.2016026124738.hdf
MCD15A3H.A2016021.h17v04.006.2016026124414.hdf
MCD15A3H.A2016021.h18v03.006.2016026124743.hdf
MCD15A3H.A2016021.h18v04.006.2016026124707.hdf
MCD15A3H.A2016025.h17v03.006.2016034034334.hdf
MCD15A3H.A2016025.h17v04.006.2016034035837.hdf
MCD15A3H.A2016025.h18v03.006.2016034034341.hdf
MCD15A3H.A2016025.h18v04.006.2016034034846.hdf
MCD15A3H.A2016029.h17v03.006.2016043140323.hdf
MCD15A3H.A2016029.h17v04.006.2016043140330.hdf
MCD15A3H.A2016029.h18v03.006.2016043140341.hdf
MCD15A3H.A2016029.h18v04.006.2016043140353.hdf
MCD15A3H.A2016033.h17v03.006.2016043140622.hdf
MCD15A3H.A2016033.h17v04.006.2016043140634.hdf
MCD15A3H.A2016033.h18v03.006.2016043140641.hdf
MCD15A3H.A2016033.h18v04.006.2016043140709.hdf
MCD15A3H.A2016037.h17v03.006.2016043140850.hdf
MCD15A3H.A2016037.h17v04.006.2016043140849.hdf
MCD15A3H.A2016037.h18v03.006.2016043140917.hdf
MCD15A3H.A2016037.h18v04.006.2016043140911.hdf
MCD15A3H.A2016041.h17v03.006.2016049125032.hdf
MCD15A3H.A2016041.h17v04.006.2016049125048.hdf
MCD15A3H.A2016041.h18v03.006.2016049125050.hdf
MCD15A3H.A2016041.h18v04.006.2016049125059.hdf
MCD15A3H.A2016045.h17v03.006.2016054001450.hdf
MCD15A3H.A2016045.h17v04.006.2016054001456.hdf
MCD15A3H.A2016045.h18v03.006.2016054001450.hdf
MCD15A3H.A2016045.h18v04.006.2016054001527.hdf
MCD15A3H.A2016049.h17v03.006.2016111145759.hdf
MCD15A3H.A2016049.h17v04.006.2016111145800.hdf
MCD15A3H.A2016049.h18v03.006.2016111145825.hdf
MCD15A3H.A2016049.h18v04.006.2016111145832.hdf
MCD15A3H.A2016057.h17v03.006.2016111145933.hdf
MCD15A3H.A2016057.h17v04.006.2016111145935.hdf
MCD15A3H.A2016057.h18v03.006.2016111145941.hdf
MCD15A3H.A2016057.h18v04.006.2016111145944.hdf
MCD15A3H.A2016061.h17v03.006.2016110203331.hdf
MCD15A3H.A2016061.h17v04.006.2016110203339.hdf
MCD15A3H.A2016061.h18v03.006.2016110203332.hdf
MCD15A3H.A2016061.h18v04.006.2016110203352.hdf
MCD15A3H.A2016065.h17v03.006.2016110203443.hdf
MCD15A3H.A2016065.h17v04.006.2016110203445.hdf
MCD15A3H.A2016065.h18v03.006.2016110203500.hdf
MCD15A3H.A2016065.h18v04.006.2016110203503.hdf
MCD15A3H.A2016069.h17v03.006.2016110203559.hdf
MCD15A3H.A2016069.h17v04.006.2016110203600.hdf
MCD15A3H.A2016069.h18v03.006.2016110203608.hdf
MCD15A3H.A2016069.h18v04.006.2016110203615.hdf
MCD15A3H.A2016073.h17v03.006.2016110203711.hdf
MCD15A3H.A2016073.h17v04.006.2016110203728.hdf
MCD15A3H.A2016073.h18v03.006.2016110203721.hdf
MCD15A3H.A2016073.h18v04.006.2016110203727.hdf
MCD15A3H.A2016077.h17v03.006.2016110203826.hdf
MCD15A3H.A2016077.h17v04.006.2016110203826.hdf
MCD15A3H.A2016077.h18v03.006.2016110203839.hdf
MCD15A3H.A2016077.h18v04.006.2016110203846.hdf
MCD15A3H.A2016081.h17v03.006.2016110203940.hdf
MCD15A3H.A2016081.h17v04.006.2016110203941.hdf
MCD15A3H.A2016081.h18v03.006.2016110204002.hdf
MCD15A3H.A2016081.h18v04.006.2016110203956.hdf
MCD15A3H.A2016085.h17v03.006.2016110204055.hdf
MCD15A3H.A2016085.h17v04.006.2016110204056.hdf
MCD15A3H.A2016085.h18v03.006.2016110204107.hdf
MCD15A3H.A2016085.h18v04.006.2016110204111.hdf
MCD15A3H.A2016089.h17v03.006.2016110204215.hdf
MCD15A3H.A2016089.h17v04.006.2016110204226.hdf
MCD15A3H.A2016089.h18v03.006.2016110204226.hdf
MCD15A3H.A2016089.h18v04.006.2016110204226.hdf
MCD15A3H.A2016093.h17v03.006.2016110204329.hdf
MCD15A3H.A2016093.h17v04.006.2016110204342.hdf
MCD15A3H.A2016093.h18v03.006.2016110204342.hdf
MCD15A3H.A2016093.h18v04.006.2016110204342.hdf
MCD15A3H.A2016097.h17v03.006.2016110204444.hdf
MCD15A3H.A2016097.h17v04.006.2016110204450.hdf
MCD15A3H.A2016097.h18v03.006.2016110204452.hdf
MCD15A3H.A2016097.h18v04.006.2016110204502.hdf
MCD15A3H.A2016101.h17v03.006.2016110204557.hdf
MCD15A3H.A2016101.h17v04.006.2016110204557.hdf
MCD15A3H.A2016101.h18v03.006.2016110204603.hdf
MCD15A3H.A2016101.h18v04.006.2016110204612.hdf
MCD15A3H.A2016105.h17v03.006.2016112000529.hdf
MCD15A3H.A2016105.h17v04.006.2016112000523.hdf
MCD15A3H.A2016105.h18v03.006.2016112000619.hdf
MCD15A3H.A2016105.h18v04.006.2016111235856.hdf
MCD15A3H.A2016109.h17v03.006.2016116205141.hdf
MCD15A3H.A2016109.h17v04.006.2016116204817.hdf
MCD15A3H.A2016109.h18v03.006.2016116205828.hdf
MCD15A3H.A2016109.h18v04.006.2016116205500.hdf
MCD15A3H.A2016113.h17v03.006.2016118071447.hdf
MCD15A3H.A2016113.h17v04.006.2016118071149.hdf
MCD15A3H.A2016113.h18v03.006.2016118072403.hdf
MCD15A3H.A2016113.h18v04.006.2016118071207.hdf
MCD15A3H.A2016117.h17v03.006.2016123133231.hdf
MCD15A3H.A2016117.h17v04.006.2016123133231.hdf
MCD15A3H.A2016117.h18v03.006.2016123133248.hdf
MCD15A3H.A2016117.h18v04.006.2016123133254.hdf
MCD15A3H.A2016121.h17v03.006.2016126073150.hdf
MCD15A3H.A2016121.h17v04.006.2016126072647.hdf
MCD15A3H.A2016121.h18v03.006.2016126073203.hdf
MCD15A3H.A2016121.h18v04.006.2016126072929.hdf
MCD15A3H.A2016125.h17v03.006.2016130152307.hdf
MCD15A3H.A2016125.h17v04.006.2016130152307.hdf
MCD15A3H.A2016125.h18v03.006.2016130152323.hdf
MCD15A3H.A2016125.h18v04.006.2016130152322.hdf
MCD15A3H.A2016129.h17v03.006.2016135030155.hdf
MCD15A3H.A2016129.h17v04.006.2016135025251.hdf
MCD15A3H.A2016129.h18v03.006.2016135025557.hdf
MCD15A3H.A2016129.h18v04.006.2016135032944.hdf
MCD15A3H.A2016133.h17v03.006.2016140155029.hdf
MCD15A3H.A2016133.h17v04.006.2016140155030.hdf
MCD15A3H.A2016133.h18v03.006.2016140155050.hdf
MCD15A3H.A2016133.h18v04.006.2016140155048.hdf
MCD15A3H.A2016137.h17v03.006.2016142085015.hdf
MCD15A3H.A2016137.h17v04.006.2016142085022.hdf
MCD15A3H.A2016137.h18v03.006.2016142085230.hdf
MCD15A3H.A2016137.h18v04.006.2016142090113.hdf
MCD15A3H.A2016141.h17v03.006.2016159123250.hdf
MCD15A3H.A2016141.h17v04.006.2016159123205.hdf
MCD15A3H.A2016141.h18v03.006.2016159123228.hdf
MCD15A3H.A2016141.h18v04.006.2016159123303.hdf
MCD15A3H.A2016145.h17v03.006.2016159123331.hdf
MCD15A3H.A2016145.h17v04.006.2016159123337.hdf
MCD15A3H.A2016145.h18v03.006.2016159123336.hdf
MCD15A3H.A2016145.h18v04.006.2016159123342.hdf
MCD15A3H.A2016149.h17v03.006.2016159123409.hdf
MCD15A3H.A2016149.h17v04.006.2016159123404.hdf
MCD15A3H.A2016149.h18v03.006.2016159123409.hdf
MCD15A3H.A2016149.h18v04.006.2016159123411.hdf
MCD15A3H.A2016153.h17v03.006.2016159123426.hdf
MCD15A3H.A2016153.h17v04.006.2016159123436.hdf
MCD15A3H.A2016153.h18v03.006.2016159123441.hdf
MCD15A3H.A2016153.h18v04.006.2016159123443.hdf
MCD15A3H.A2016157.h17v03.006.2016166093852.hdf
MCD15A3H.A2016157.h17v04.006.2016166093859.hdf
MCD15A3H.A2016157.h18v03.006.2016166094604.hdf
MCD15A3H.A2016157.h18v04.006.2016166093925.hdf
MCD15A3H.A2016161.h17v03.006.2016167030656.hdf
MCD15A3H.A2016161.h17v04.006.2016167025525.hdf
MCD15A3H.A2016161.h18v03.006.2016167030705.hdf
MCD15A3H.A2016161.h18v04.006.2016167030708.hdf
MCD15A3H.A2016165.h17v03.006.2016173050525.hdf
MCD15A3H.A2016165.h17v04.006.2016173045301.hdf
MCD15A3H.A2016165.h18v03.006.2016173045725.hdf
MCD15A3H.A2016165.h18v04.006.2016173045552.hdf
MCD15A3H.A2016169.h17v03.006.2016180114611.hdf
MCD15A3H.A2016169.h17v04.006.2016180114633.hdf
MCD15A3H.A2016169.h18v03.006.2016180114625.hdf
MCD15A3H.A2016169.h18v04.006.2016180114625.hdf
MCD15A3H.A2016173.h17v03.006.2016184020251.hdf
MCD15A3H.A2016173.h17v04.006.2016184033245.hdf
MCD15A3H.A2016173.h18v03.006.2016184015826.hdf
MCD15A3H.A2016173.h18v04.006.2016184015903.hdf
MCD15A3H.A2016177.h17v03.006.2016184043337.hdf
MCD15A3H.A2016177.h17v04.006.2016184043348.hdf
MCD15A3H.A2016177.h18v03.006.2016184045617.hdf
MCD15A3H.A2016177.h18v04.006.2016184044437.hdf
MCD15A3H.A2016181.h17v03.006.2016189192722.hdf
MCD15A3H.A2016181.h17v04.006.2016189192727.hdf
MCD15A3H.A2016181.h18v03.006.2016189192744.hdf
MCD15A3H.A2016181.h18v04.006.2016189192751.hdf
MCD15A3H.A2016185.h17v03.006.2016190065600.hdf
MCD15A3H.A2016185.h17v04.006.2016190064224.hdf
MCD15A3H.A2016185.h18v03.006.2016190065408.hdf
MCD15A3H.A2016185.h18v04.006.2016190064636.hdf
MCD15A3H.A2016189.h17v03.006.2016194191636.hdf
MCD15A3H.A2016189.h17v04.006.2016194191327.hdf
MCD15A3H.A2016189.h18v03.006.2016194192007.hdf
MCD15A3H.A2016189.h18v04.006.2016194192044.hdf
MCD15A3H.A2016193.h17v03.006.2016198083739.hdf
MCD15A3H.A2016193.h17v04.006.2016198083237.hdf
MCD15A3H.A2016193.h18v03.006.2016198085248.hdf
MCD15A3H.A2016193.h18v04.006.2016198083748.hdf
MCD15A3H.A2016197.h17v03.006.2016204134529.hdf
MCD15A3H.A2016197.h17v04.006.2016204134527.hdf
MCD15A3H.A2016197.h18v03.006.2016204134521.hdf
MCD15A3H.A2016197.h18v04.006.2016204134536.hdf
MCD15A3H.A2016201.h17v03.006.2016207215017.hdf
MCD15A3H.A2016201.h17v04.006.2016207215015.hdf
MCD15A3H.A2016201.h18v03.006.2016207215333.hdf
MCD15A3H.A2016201.h18v04.006.2016207215338.hdf
MCD15A3H.A2016205.h17v03.006.2016222121935.hdf
MCD15A3H.A2016205.h17v04.006.2016222121939.hdf
MCD15A3H.A2016205.h18v03.006.2016222121947.hdf
MCD15A3H.A2016205.h18v04.006.2016222121954.hdf
MCD15A3H.A2016209.h17v03.006.2016222122240.hdf
MCD15A3H.A2016209.h17v04.006.2016222122242.hdf
MCD15A3H.A2016209.h18v03.006.2016222122251.hdf
MCD15A3H.A2016209.h18v04.006.2016222122257.hdf
MCD15A3H.A2016213.h17v03.006.2016239132222.hdf
MCD15A3H.A2016213.h17v04.006.2016239132235.hdf
MCD15A3H.A2016213.h18v03.006.2016239132253.hdf
MCD15A3H.A2016213.h18v04.006.2016239132255.hdf
MCD15A3H.A2016217.h17v03.006.2016239132333.hdf
MCD15A3H.A2016217.h17v04.006.2016239132337.hdf
MCD15A3H.A2016217.h18v03.006.2016239132341.hdf
MCD15A3H.A2016217.h18v04.006.2016239132347.hdf
MCD15A3H.A2016221.h17v03.006.2016239132432.hdf
MCD15A3H.A2016221.h17v04.006.2016239132433.hdf
MCD15A3H.A2016221.h18v03.006.2016239132435.hdf
MCD15A3H.A2016221.h18v04.006.2016239132440.hdf
MCD15A3H.A2016225.h17v03.006.2016239132521.hdf
MCD15A3H.A2016225.h17v04.006.2016239132525.hdf
MCD15A3H.A2016225.h18v03.006.2016239132527.hdf
MCD15A3H.A2016225.h18v04.006.2016239132529.hdf
MCD15A3H.A2016229.h17v03.006.2016239132612.hdf
MCD15A3H.A2016229.h17v04.006.2016239132615.hdf
MCD15A3H.A2016229.h18v03.006.2016239132614.hdf
MCD15A3H.A2016229.h18v04.006.2016239132624.hdf
MCD15A3H.A2016233.h17v03.006.2016239154552.hdf
MCD15A3H.A2016233.h17v04.006.2016239160839.hdf
MCD15A3H.A2016233.h18v03.006.2016239161901.hdf
MCD15A3H.A2016233.h18v04.006.2016239154620.hdf
MCD15A3H.A2016237.h17v03.006.2016243035304.hdf
MCD15A3H.A2016237.h17v04.006.2016243035316.hdf
MCD15A3H.A2016237.h18v03.006.2016243035317.hdf
MCD15A3H.A2016237.h18v04.006.2016243035643.hdf
MCD15A3H.A2016241.h17v03.006.2016246080654.hdf
MCD15A3H.A2016241.h17v04.006.2016246080640.hdf
MCD15A3H.A2016241.h18v03.006.2016246075613.hdf
MCD15A3H.A2016241.h18v04.006.2016246075129.hdf
MCD15A3H.A2016245.h17v03.006.2016250072631.hdf
MCD15A3H.A2016245.h17v04.006.2016250072220.hdf
MCD15A3H.A2016245.h18v03.006.2016250072631.hdf
MCD15A3H.A2016245.h18v04.006.2016250072642.hdf
MCD15A3H.A2016249.h17v03.006.2016263190209.hdf
MCD15A3H.A2016249.h17v04.006.2016263190211.hdf
MCD15A3H.A2016249.h18v03.006.2016263190217.hdf
MCD15A3H.A2016249.h18v04.006.2016263190223.hdf
MCD15A3H.A2016253.h17v03.006.2016263190229.hdf
MCD15A3H.A2016253.h17v04.006.2016263190229.hdf
MCD15A3H.A2016253.h18v03.006.2016263190242.hdf
MCD15A3H.A2016253.h18v04.006.2016263190244.hdf
MCD15A3H.A2016257.h17v03.006.2016265021317.hdf
MCD15A3H.A2016257.h17v04.006.2016265021329.hdf
MCD15A3H.A2016257.h18v03.006.2016265021755.hdf
MCD15A3H.A2016257.h18v04.006.2016265021336.hdf
MCD15A3H.A2016261.h17v03.006.2016267014113.hdf
MCD15A3H.A2016261.h17v04.006.2016267013302.hdf
MCD15A3H.A2016261.h18v03.006.2016267015350.hdf
MCD15A3H.A2016261.h18v04.006.2016267013305.hdf
MCD15A3H.A2016265.h17v03.006.2016274181912.hdf
MCD15A3H.A2016265.h17v04.006.2016274181914.hdf
MCD15A3H.A2016265.h18v03.006.2016274181913.hdf
MCD15A3H.A2016265.h18v04.006.2016274181937.hdf
MCD15A3H.A2016269.h17v03.006.2016274182007.hdf
MCD15A3H.A2016269.h17v04.006.2016274182008.hdf
MCD15A3H.A2016269.h18v03.006.2016274182022.hdf
MCD15A3H.A2016269.h18v04.006.2016274182028.hdf
MCD15A3H.A2016273.h17v03.006.2016278065752.hdf
MCD15A3H.A2016273.h17v04.006.2016278070708.hdf
MCD15A3H.A2016273.h18v03.006.2016278070409.hdf
MCD15A3H.A2016273.h18v04.006.2016278070712.hdf
MCD15A3H.A2016277.h17v03.006.2016285121823.hdf
MCD15A3H.A2016277.h17v04.006.2016285121826.hdf
MCD15A3H.A2016277.h18v03.006.2016285121828.hdf
MCD15A3H.A2016277.h18v04.006.2016285121830.hdf
MCD15A3H.A2016281.h17v03.006.2016286210532.hdf
MCD15A3H.A2016281.h17v04.006.2016286204432.hdf
MCD15A3H.A2016281.h18v03.006.2016286204934.hdf
MCD15A3H.A2016281.h18v04.006.2016286210123.hdf
MCD15A3H.A2016285.h17v03.006.2016291205846.hdf
MCD15A3H.A2016285.h17v04.006.2016291205844.hdf
MCD15A3H.A2016285.h18v03.006.2016291210152.hdf
MCD15A3H.A2016285.h18v04.006.2016291211648.hdf
MCD15A3H.A2016289.h17v03.006.2016294100243.hdf
MCD15A3H.A2016289.h17v04.006.2016294095620.hdf
MCD15A3H.A2016289.h18v03.006.2016294095953.hdf
MCD15A3H.A2016289.h18v04.006.2016294095959.hdf
MCD15A3H.A2016293.h17v03.006.2016302004719.hdf
MCD15A3H.A2016293.h17v04.006.2016302004722.hdf
MCD15A3H.A2016293.h18v03.006.2016302004112.hdf
MCD15A3H.A2016293.h18v04.006.2016302003744.hdf
MCD15A3H.A2016297.h17v03.006.2016302145250.hdf
MCD15A3H.A2016297.h17v04.006.2016302145240.hdf
MCD15A3H.A2016297.h18v03.006.2016302145256.hdf
MCD15A3H.A2016297.h18v04.006.2016302145253.hdf
MCD15A3H.A2016301.h17v03.006.2016306070409.hdf
MCD15A3H.A2016301.h17v04.006.2016306065943.hdf
MCD15A3H.A2016301.h18v03.006.2016306070747.hdf
MCD15A3H.A2016301.h18v04.006.2016306071032.hdf
MCD15A3H.A2016305.h17v03.006.2016310071300.hdf
MCD15A3H.A2016305.h17v04.006.2016310071624.hdf
MCD15A3H.A2016305.h18v03.006.2016310071630.hdf
MCD15A3H.A2016305.h18v04.006.2016310071637.hdf
MCD15A3H.A2016309.h17v03.006.2016314071411.hdf
MCD15A3H.A2016309.h17v04.006.2016314071413.hdf
MCD15A3H.A2016309.h18v03.006.2016314071935.hdf
MCD15A3H.A2016309.h18v04.006.2016314071420.hdf
MCD15A3H.A2016313.h17v03.006.2016320202245.hdf
MCD15A3H.A2016313.h17v04.006.2016320201852.hdf
MCD15A3H.A2016313.h18v03.006.2016320203216.hdf
MCD15A3H.A2016313.h18v04.006.2016320201902.hdf
MCD15A3H.A2016317.h17v03.006.2016329045540.hdf
MCD15A3H.A2016317.h17v04.006.2016329045532.hdf
MCD15A3H.A2016317.h18v03.006.2016329045542.hdf
MCD15A3H.A2016317.h18v04.006.2016329045605.hdf
MCD15A3H.A2016321.h17v03.006.2016334064334.hdf
MCD15A3H.A2016321.h17v04.006.2016334063807.hdf
MCD15A3H.A2016321.h18v03.006.2016334064336.hdf
MCD15A3H.A2016321.h18v04.006.2016334064823.hdf
MCD15A3H.A2016325.h17v03.006.2016340191111.hdf
MCD15A3H.A2016325.h17v04.006.2016340191114.hdf
MCD15A3H.A2016325.h18v03.006.2016340191117.hdf
MCD15A3H.A2016325.h18v04.006.2016340191121.hdf
MCD15A3H.A2016329.h17v03.006.2016340191253.hdf
MCD15A3H.A2016329.h17v04.006.2016340191259.hdf
MCD15A3H.A2016329.h18v03.006.2016340191304.hdf
MCD15A3H.A2016329.h18v04.006.2016340191313.hdf
MCD15A3H.A2016333.h17v03.006.2016340191343.hdf
MCD15A3H.A2016333.h17v04.006.2016340191351.hdf
MCD15A3H.A2016333.h18v03.006.2016340191348.hdf
MCD15A3H.A2016333.h18v04.006.2016340191400.hdf
MCD15A3H.A2016337.h17v03.006.2016343064459.hdf
MCD15A3H.A2016337.h17v04.006.2016343064123.hdf
MCD15A3H.A2016337.h18v03.006.2016343064522.hdf
MCD15A3H.A2016337.h18v04.006.2016343064525.hdf
MCD15A3H.A2016341.h17v03.006.2016348175105.hdf
MCD15A3H.A2016341.h17v04.006.2016348174258.hdf
MCD15A3H.A2016341.h18v03.006.2016348175231.hdf
MCD15A3H.A2016341.h18v04.006.2016348175238.hdf
MCD15A3H.A2016345.h17v03.006.2016350220356.hdf
MCD15A3H.A2016345.h17v04.006.2016350220821.hdf
MCD15A3H.A2016345.h18v03.006.2016350221132.hdf
MCD15A3H.A2016345.h18v04.006.2016350221138.hdf
MCD15A3H.A2016349.h17v03.006.2016357073003.hdf
MCD15A3H.A2016349.h17v04.006.2016357070812.hdf
MCD15A3H.A2016349.h18v03.006.2016357070826.hdf
MCD15A3H.A2016349.h18v04.006.2016357070838.hdf
MCD15A3H.A2016353.h17v03.006.2016358104510.hdf
MCD15A3H.A2016353.h17v04.006.2016358104045.hdf
MCD15A3H.A2016353.h18v03.006.2016358104522.hdf
MCD15A3H.A2016353.h18v04.006.2016358104526.hdf
MCD15A3H.A2016357.h17v03.006.2016362100705.hdf
MCD15A3H.A2016357.h17v04.006.2016362100709.hdf
MCD15A3H.A2016357.h18v03.006.2016362103038.hdf
MCD15A3H.A2016357.h18v04.006.2016362101147.hdf
MCD15A3H.A2016361.h17v03.006.2017010015745.hdf
MCD15A3H.A2016361.h17v04.006.2017010015748.hdf
MCD15A3H.A2016361.h18v03.006.2017010020636.hdf
MCD15A3H.A2016361.h18v04.006.2017010020640.hdf
MCD15A3H.A2016365.h17v03.006.2017014005258.hdf
MCD15A3H.A2016365.h17v04.006.2017014005300.hdf
MCD15A3H.A2016365.h18v03.006.2017014005308.hdf
MCD15A3H.A2016365.h18v04.006.2017014005312.hdf
MCD15A3H.A2017.h1_78_v0_34_LU.006.gif
MCD15A3H.A2017001.h17v03.006.2017014005341.hdf
MCD15A3H.A2017001.h17v04.006.2017014005344.hdf
MCD15A3H.A2017001.h18v03.006.2017014005401.hdf
MCD15A3H.A2017001.h18v04.006.2017014005359.hdf
MCD15A3H.A2017005.h17v03.006.2017017141758.hdf
MCD15A3H.A2017005.h17v04.006.2017017141805.hdf
MCD15A3H.A2017005.h18v03.006.2017017141813.hdf
MCD15A3H.A2017005.h18v04.006.2017017141824.hdf
MCD15A3H.A2017009.h17v03.006.2017018072233.hdf
MCD15A3H.A2017009.h17v04.006.2017018072237.hdf
MCD15A3H.A2017009.h18v03.006.2017018072246.hdf
MCD15A3H.A2017009.h18v04.006.2017018072848.hdf
MCD15A3H.A2017013.h17v03.006.2017021013427.hdf
MCD15A3H.A2017013.h17v04.006.2017021013955.hdf
MCD15A3H.A2017013.h18v03.006.2017021013754.hdf
MCD15A3H.A2017013.h18v04.006.2017021013757.hdf
MCD15A3H.A2017017.h17v03.006.2017024074330.hdf
MCD15A3H.A2017017.h17v04.006.2017024074333.hdf
MCD15A3H.A2017017.h18v03.006.2017024073222.hdf
MCD15A3H.A2017017.h18v04.006.2017024072610.hdf
MCD15A3H.A2017021.h17v03.006.2017031131446.hdf
MCD15A3H.A2017021.h17v04.006.2017031131450.hdf
MCD15A3H.A2017021.h18v03.006.2017031131458.hdf
MCD15A3H.A2017021.h18v04.006.2017031131510.hdf
MCD15A3H.A2017025.h17v03.006.2017031144743.hdf
MCD15A3H.A2017025.h17v04.006.2017031144746.hdf
MCD15A3H.A2017025.h18v03.006.2017031145746.hdf
MCD15A3H.A2017025.h18v04.006.2017031145243.hdf
MCD15A3H.A2017029.h17v03.006.2017040040835.hdf
MCD15A3H.A2017029.h17v04.006.2017040035852.hdf
MCD15A3H.A2017029.h18v03.006.2017040040308.hdf
MCD15A3H.A2017029.h18v04.006.2017040040319.hdf
MCD15A3H.A2017033.h17v03.006.2017040180926.hdf
MCD15A3H.A2017033.h17v04.006.2017040180855.hdf
MCD15A3H.A2017033.h18v03.006.2017040180948.hdf
MCD15A3H.A2017033.h18v04.006.2017040180859.hdf
MCD15A3H.A2017037.h17v03.006.2017045204125.hdf
MCD15A3H.A2017037.h17v04.006.2017045203544.hdf
MCD15A3H.A2017037.h18v03.006.2017045204444.hdf
MCD15A3H.A2017037.h18v04.006.2017045203931.hdf
MCD15A3H.A2017041.h17v03.006.2017047163856.hdf
MCD15A3H.A2017041.h17v04.006.2017047163857.hdf
MCD15A3H.A2017041.h18v03.006.2017047163913.hdf
MCD15A3H.A2017041.h18v04.006.2017047163923.hdf
MCD15A3H.A2017045.h17v03.006.2017053101326.hdf
MCD15A3H.A2017045.h17v03.006.2017053101326.hdf.aux.xml
MCD15A3H.A2017045.h17v04.006.2017053101338.hdf
MCD15A3H.A2017045.h18v03.006.2017053101154.hdf
MCD15A3H.A2017045.h18v04.006.2017053101351.hdf
MCD15A3H.A2017049.h17v03.006.2017059114616.hdf
MCD15A3H.A2017049.h17v04.006.2017059114610.hdf
MCD15A3H.A2017049.h18v03.006.2017059114610.hdf
MCD15A3H.A2017049.h18v04.006.2017059114622.hdf
MCD15A3H.A2017053.h17v03.006.2017059114658.hdf
MCD15A3H.A2017053.h17v04.006.2017059114656.hdf
MCD15A3H.A2017053.h18v03.006.2017059114705.hdf
MCD15A3H.A2017053.h18v04.006.2017059114709.hdf
MCD15A3H.A2017057.h17v03.006.2017065214509.hdf
MCD15A3H.A2017057.h17v04.006.2017065215830.hdf
MCD15A3H.A2017057.h18v03.006.2017065214511.hdf
MCD15A3H.A2017057.h18v04.006.2017065220406.hdf
MCD15A3H.A2017061.h17v03.006.2017066071759.hdf
MCD15A3H.A2017061.h17v04.006.2017066071510.hdf
MCD15A3H.A2017061.h18v03.006.2017066071820.hdf
MCD15A3H.A2017061.h18v04.006.2017066071522.hdf
MCD15A3H.A2017065.h17v03.006.2017073193156.hdf
MCD15A3H.A2017065.h17v04.006.2017073192307.hdf
MCD15A3H.A2017065.h18v03.006.2017073193400.hdf
MCD15A3H.A2017065.h18v04.006.2017073193612.hdf
MCD15A3H.A2017069.h17v03.006.2017080124350.hdf
MCD15A3H.A2017069.h17v04.006.2017080124353.hdf
MCD15A3H.A2017069.h18v03.006.2017080124401.hdf
MCD15A3H.A2017069.h18v04.006.2017080124409.hdf
MCD15A3H.A2017073.h17v03.006.2017082030659.hdf
MCD15A3H.A2017073.h17v04.006.2017082030700.hdf
MCD15A3H.A2017073.h18v03.006.2017082031545.hdf
MCD15A3H.A2017073.h18v04.006.2017082030724.hdf
MCD15A3H.A2017077.h17v03.006.2017082120504.hdf
MCD15A3H.A2017077.h17v04.006.2017082115811.hdf
MCD15A3H.A2017077.h18v03.006.2017082120524.hdf
MCD15A3H.A2017077.h18v04.006.2017082120528.hdf
MCD15A3H.A2017081.h17v03.006.2017087022308.hdf
MCD15A3H.A2017081.h17v04.006.2017087022119.hdf
MCD15A3H.A2017081.h18v03.006.2017087021811.hdf
MCD15A3H.A2017081.h18v04.006.2017087022318.hdf
MCD15A3H.A2017085.h17v03.006.2017094173906.hdf
MCD15A3H.A2017085.h17v04.006.2017094173942.hdf
MCD15A3H.A2017085.h18v03.006.2017094173929.hdf
MCD15A3H.A2017085.h18v04.006.2017094173947.hdf
MCD15A3H.A2017089.h17v03.006.2017095141007.hdf
MCD15A3H.A2017089.h17v04.006.2017095140658.hdf
MCD15A3H.A2017089.h18v03.006.2017095135755.hdf
MCD15A3H.A2017089.h18v04.006.2017095135837.hdf
MCD15A3H.A2017093.h17v03.006.2017104154927.hdf
MCD15A3H.A2017093.h17v04.006.2017104154919.hdf
MCD15A3H.A2017093.h18v03.006.2017104154924.hdf
MCD15A3H.A2017093.h18v04.006.2017104154933.hdf
MCD15A3H.A2017097.h17v03.006.2017104154958.hdf
MCD15A3H.A2017097.h17v04.006.2017104154956.hdf
MCD15A3H.A2017097.h18v03.006.2017104154959.hdf
MCD15A3H.A2017097.h18v04.006.2017104155012.hdf
MCD15A3H.A2017101.h17v03.006.2017116175258.hdf
MCD15A3H.A2017101.h17v04.006.2017116175131.hdf
MCD15A3H.A2017101.h18v03.006.2017116175145.hdf
MCD15A3H.A2017101.h18v04.006.2017116175453.hdf
MCD15A3H.A2017105.h17v03.006.2017118140107.hdf
MCD15A3H.A2017105.h17v04.006.2017118140110.hdf
MCD15A3H.A2017105.h18v03.006.2017118140108.hdf
MCD15A3H.A2017105.h18v04.006.2017118140110.hdf
MCD15A3H.A2017109.h17v03.006.2017118140139.hdf
MCD15A3H.A2017109.h17v04.006.2017118140138.hdf
MCD15A3H.A2017109.h18v03.006.2017118140142.hdf
MCD15A3H.A2017109.h18v04.006.2017118140142.hdf
MCD15A3H.A2017113.h17v03.006.2017118202135.hdf
MCD15A3H.A2017113.h17v04.006.2017118184030.hdf
MCD15A3H.A2017113.h18v03.006.2017118201450.hdf
MCD15A3H.A2017113.h18v04.006.2017118184056.hdf
MCD15A3H.A2017117.h17v03.006.2017122032131.hdf
MCD15A3H.A2017117.h17v04.006.2017122033600.hdf
MCD15A3H.A2017117.h18v03.006.2017122032334.hdf
MCD15A3H.A2017117.h18v04.006.2017122031947.hdf
MCD15A3H.A2017121.h17v03.006.2017126042343.hdf
MCD15A3H.A2017121.h17v04.006.2017126042347.hdf
MCD15A3H.A2017121.h18v03.006.2017126042047.hdf
MCD15A3H.A2017121.h18v04.006.2017126042012.hdf
MCD15A3H.A2017125.h17v03.006.2017135145623.hdf
MCD15A3H.A2017125.h17v04.006.2017135151227.hdf
MCD15A3H.A2017125.h18v03.006.2017135140955.hdf
MCD15A3H.A2017125.h18v04.006.2017135141218.hdf
MCD15A3H.A2017129.h17v03.006.2017137220918.hdf
MCD15A3H.A2017129.h17v04.006.2017137220847.hdf
MCD15A3H.A2017129.h18v03.006.2017137215055.hdf
MCD15A3H.A2017129.h18v04.006.2017137215059.hdf
MCD15A3H.A2017133.h17v03.006.2017138035345.hdf
MCD15A3H.A2017133.h17v04.006.2017138033305.hdf
MCD15A3H.A2017133.h18v03.006.2017138030706.hdf
MCD15A3H.A2017133.h18v04.006.2017138030907.hdf
MCD15A3H.A2017137.h17v03.006.2017142035858.hdf
MCD15A3H.A2017137.h17v04.006.2017142040116.hdf
MCD15A3H.A2017137.h18v03.006.2017142041218.hdf
MCD15A3H.A2017137.h18v04.006.2017142041122.hdf
MCD15A3H.A2017141.h17v03.006.2017146032650.hdf
MCD15A3H.A2017141.h17v04.006.2017146031758.hdf
MCD15A3H.A2017141.h18v03.006.2017146025030.hdf
MCD15A3H.A2017141.h18v04.006.2017146025218.hdf
MCD15A3H.A2017145.h17v03.006.2017151145707.hdf
MCD15A3H.A2017145.h17v04.006.2017151144648.hdf
MCD15A3H.A2017145.h18v03.006.2017151151534.hdf
MCD15A3H.A2017145.h18v04.006.2017151144037.hdf
MCD15A3H.A2017149.h17v03.006.2017164112436.hdf
MCD15A3H.A2017149.h17v04.006.2017164112432.hdf
MCD15A3H.A2017149.h18v03.006.2017164112435.hdf
MCD15A3H.A2017149.h18v04.006.2017164112441.hdf
MCD15A3H.A2017153.h17v03.006.2017164112454.hdf
MCD15A3H.A2017153.h17v04.006.2017164112454.hdf
MCD15A3H.A2017153.h18v03.006.2017164112502.hdf
MCD15A3H.A2017153.h18v04.006.2017164112502.hdf
MCD15A3H.A2017157.h17v03.006.2017164112529.hdf
MCD15A3H.A2017157.h17v04.006.2017164112535.hdf
MCD15A3H.A2017157.h18v03.006.2017164112532.hdf
MCD15A3H.A2017157.h18v04.006.2017164112536.hdf
MCD15A3H.A2017161.h17v03.006.2017171200126.hdf
MCD15A3H.A2017161.h17v04.006.2017171195752.hdf
MCD15A3H.A2017161.h18v03.006.2017171202109.hdf
MCD15A3H.A2017161.h18v04.006.2017171201419.hdf
MCD15A3H.A2017165.h17v03.006.2017171120905.hdf
MCD15A3H.A2017165.h17v04.006.2017171120908.hdf
MCD15A3H.A2017165.h18v03.006.2017171120907.hdf
MCD15A3H.A2017165.h18v04.006.2017171120915.hdf
MCD15A3H.A2017169.h17v03.006.2017174032729.hdf
MCD15A3H.A2017169.h17v04.006.2017174032256.hdf
MCD15A3H.A2017169.h18v03.006.2017174032256.hdf
MCD15A3H.A2017169.h18v04.006.2017174031818.hdf
MCD15A3H.A2017173.h17v03.006.2017178120232.hdf
MCD15A3H.A2017173.h17v04.006.2017178115338.hdf
MCD15A3H.A2017173.h18v03.006.2017178115328.hdf
MCD15A3H.A2017173.h18v04.006.2017178115707.hdf
MCD15A3H.A2017177.h17v03.006.2017187174125.hdf
MCD15A3H.A2017177.h17v04.006.2017187180149.hdf
MCD15A3H.A2017177.h18v03.006.2017187174619.hdf
MCD15A3H.A2017177.h18v04.006.2017187173712.hdf
MCD15A3H.A2017181.h17v03.006.2017191190136.hdf
MCD15A3H.A2017181.h17v04.006.2017191185802.hdf
MCD15A3H.A2017181.h18v03.006.2017191195658.hdf
MCD15A3H.A2017181.h18v04.006.2017191193813.hdf
MCD15A3H.A2017185.h17v03.006.2017192121419.hdf
MCD15A3H.A2017185.h17v04.006.2017192121428.hdf
MCD15A3H.A2017185.h18v03.006.2017192121412.hdf
MCD15A3H.A2017185.h18v04.006.2017192121429.hdf
MCD15A3H.A2017189.h17v03.006.2017194104917.hdf
MCD15A3H.A2017189.h17v04.006.2017194104804.hdf
MCD15A3H.A2017189.h18v03.006.2017194104914.hdf
MCD15A3H.A2017189.h18v04.006.2017194104724.hdf
MCD15A3H.A2017193.h17v03.006.2017198204504.hdf
MCD15A3H.A2017193.h17v04.006.2017198204739.hdf
MCD15A3H.A2017193.h18v03.006.2017198204128.hdf
MCD15A3H.A2017193.h18v04.006.2017198210928.hdf
MCD15A3H.A2017197.h17v03.006.2017202030505.hdf
MCD15A3H.A2017197.h17v04.006.2017202030356.hdf
MCD15A3H.A2017197.h18v03.006.2017202033146.hdf
MCD15A3H.A2017197.h18v04.006.2017202034355.hdf
MCD15A3H.A2017201.h17v03.006.2017212170608.hdf
MCD15A3H.A2017201.h17v04.006.2017212170610.hdf
MCD15A3H.A2017201.h18v03.006.2017212170612.hdf
MCD15A3H.A2017201.h18v04.006.2017212170614.hdf
MCD15A3H.A2017205.h17v03.006.2017212195915.hdf
MCD15A3H.A2017205.h17v04.006.2017212200246.hdf
MCD15A3H.A2017205.h18v03.006.2017212195658.hdf
MCD15A3H.A2017205.h18v04.006.2017212195556.hdf
MCD15A3H.A2017209.h17v03.006.2017214185419.hdf
MCD15A3H.A2017209.h17v04.006.2017214185419.hdf
MCD15A3H.A2017209.h18v03.006.2017214191509.hdf
MCD15A3H.A2017209.h18v04.006.2017214191653.hdf
MCD15A3H.A2017213.h17v03.006.2017227125003.hdf
MCD15A3H.A2017213.h17v04.006.2017227125011.hdf
MCD15A3H.A2017213.h18v03.006.2017227125009.hdf
MCD15A3H.A2017213.h18v04.006.2017227125012.hdf
MCD15A3H.A2017217.h17v03.006.2017227125026.hdf
MCD15A3H.A2017217.h17v04.006.2017227125027.hdf
MCD15A3H.A2017217.h18v03.006.2017227125027.hdf
MCD15A3H.A2017217.h18v04.006.2017227125035.hdf
MCD15A3H.A2017221.h17v03.006.2017227170437.hdf
MCD15A3H.A2017221.h17v04.006.2017227170001.hdf
MCD15A3H.A2017221.h18v03.006.2017227172755.hdf
MCD15A3H.A2017221.h18v04.006.2017227170912.hdf
MCD15A3H.A2017225.h17v03.006.2017230033016.hdf
MCD15A3H.A2017225.h17v04.006.2017230032627.hdf
MCD15A3H.A2017225.h18v03.006.2017230032836.hdf
MCD15A3H.A2017225.h18v04.006.2017230033412.hdf
MCD15A3H.A2017229.h17v03.006.2017234150110.hdf
MCD15A3H.A2017229.h17v04.006.2017234145900.hdf
MCD15A3H.A2017229.h18v03.006.2017234145904.hdf
MCD15A3H.A2017229.h18v04.006.2017234150154.hdf
MCD15A3H.A2017233.h17v03.006.2017248101404.hdf
MCD15A3H.A2017233.h17v04.006.2017248101412.hdf
MCD15A3H.A2017233.h18v03.006.2017248101414.hdf
MCD15A3H.A2017233.h18v04.006.2017248101417.hdf
MCD15A3H.A2017237.h17v03.006.2017242030759.hdf
MCD15A3H.A2017237.h17v04.006.2017242030424.hdf
MCD15A3H.A2017237.h18v03.006.2017242030804.hdf
MCD15A3H.A2017237.h18v04.006.2017242030810.hdf
MCD15A3H.A2017241.h17v03.006.2017249173811.hdf
MCD15A3H.A2017241.h17v04.006.2017249173608.hdf
MCD15A3H.A2017241.h18v03.006.2017249173536.hdf
MCD15A3H.A2017241.h18v04.006.2017249173311.hdf
MCD15A3H.A2017245.h17v03.006.2017250143531.hdf
MCD15A3H.A2017245.h17v04.006.2017250143535.hdf
MCD15A3H.A2017245.h18v03.006.2017250143542.hdf
MCD15A3H.A2017245.h18v04.006.2017250143542.hdf
MCD15A3H.A2017249.h17v03.006.2017254031358.hdf
MCD15A3H.A2017249.h17v04.006.2017254031050.hdf
MCD15A3H.A2017249.h18v03.006.2017254031612.hdf
MCD15A3H.A2017249.h18v04.006.2017254030909.hdf
MCD15A3H.A2017253.h17v03.006.2017258030241.hdf
MCD15A3H.A2017253.h17v04.006.2017258030637.hdf
MCD15A3H.A2017253.h18v03.006.2017258030728.hdf
MCD15A3H.A2017253.h18v04.006.2017258030249.hdf
MCD15A3H.A2017257.h17v03.006.2017262125146.hdf
MCD15A3H.A2017257.h17v04.006.2017262125145.hdf
MCD15A3H.A2017257.h18v03.006.2017262125159.hdf
MCD15A3H.A2017257.h18v04.006.2017262125209.hdf
MCD15A3H.A2017261.h17v03.006.2017266033704.hdf
MCD15A3H.A2017261.h17v04.006.2017266034239.hdf
MCD15A3H.A2017261.h18v03.006.2017266034710.hdf
MCD15A3H.A2017261.h18v04.006.2017266034533.hdf
MCD15A3H.A2017265.h17v03.006.2017271135322.hdf
MCD15A3H.A2017265.h17v04.006.2017271135323.hdf
MCD15A3H.A2017265.h18v03.006.2017271135320.hdf
MCD15A3H.A2017265.h18v04.006.2017271135324.hdf
MCD15A3H.A2017269.h17v03.006.2017276172421.hdf
MCD15A3H.A2017269.h17v04.006.2017276172429.hdf
MCD15A3H.A2017269.h18v03.006.2017276172441.hdf
MCD15A3H.A2017269.h18v04.006.2017276172441.hdf
MCD15A3H.A2017273.h17v03.006.2017278031533.hdf
MCD15A3H.A2017273.h17v04.006.2017278031310.hdf
MCD15A3H.A2017273.h18v03.006.2017278030912.hdf
MCD15A3H.A2017273.h18v04.006.2017278031535.hdf
MCD15A3H.A2017277.h17v03.006.2017283110554.hdf
MCD15A3H.A2017277.h17v04.006.2017283110749.hdf
MCD15A3H.A2017277.h18v03.006.2017283110825.hdf
MCD15A3H.A2017277.h18v04.006.2017283110822.hdf
MCD15A3H.A2017281.h17v03.006.2017286041228.hdf
MCD15A3H.A2017281.h17v04.006.2017286040855.hdf
MCD15A3H.A2017281.h18v03.006.2017286041304.hdf
MCD15A3H.A2017281.h18v04.006.2017286041648.hdf
MCD15A3H.A2017285.h17v03.006.2017290125916.hdf
MCD15A3H.A2017285.h17v04.006.2017290125918.hdf
MCD15A3H.A2017285.h18v03.006.2017290125920.hdf
MCD15A3H.A2017285.h18v04.006.2017290125934.hdf
MCD15A3H.A2017289.h17v03.006.2017297190158.hdf
MCD15A3H.A2017289.h17v04.006.2017297185846.hdf
MCD15A3H.A2017289.h18v03.006.2017297185623.hdf
MCD15A3H.A2017289.h18v04.006.2017297185318.hdf
MCD15A3H.A2017293.h17v03.006.2017300140725.hdf
MCD15A3H.A2017293.h17v04.006.2017300140731.hdf
MCD15A3H.A2017293.h18v03.006.2017300140729.hdf
MCD15A3H.A2017293.h18v04.006.2017300140745.hdf
MCD15A3H.A2017297.h17v03.006.2017303194711.hdf
MCD15A3H.A2017297.h17v04.006.2017303195107.hdf
MCD15A3H.A2017297.h18v03.006.2017303194717.hdf
MCD15A3H.A2017297.h18v04.006.2017303195020.hdf
MCD15A3H.A2017301.h17v03.006.2017310191336.hdf
MCD15A3H.A2017301.h17v04.006.2017310191339.hdf
MCD15A3H.A2017301.h18v03.006.2017310191343.hdf
MCD15A3H.A2017301.h18v04.006.2017310191349.hdf
MCD15A3H.A2017305.h17v03.006.2017312184425.hdf
MCD15A3H.A2017305.h17v04.006.2017312184421.hdf
MCD15A3H.A2017305.h18v03.006.2017312184812.hdf
MCD15A3H.A2017305.h18v04.006.2017312184820.hdf
MCD15A3H.A2017309.h17v03.006.2017314035405.hdf
MCD15A3H.A2017309.h17v04.006.2017314035345.hdf
MCD15A3H.A2017309.h18v03.006.2017314035352.hdf
MCD15A3H.A2017309.h18v04.006.2017314035353.hdf
MCD15A3H.A2017313.h17v03.006.2017325161816.hdf
MCD15A3H.A2017313.h17v04.006.2017325161820.hdf
MCD15A3H.A2017313.h18v03.006.2017325161830.hdf
MCD15A3H.A2017313.h18v04.006.2017325161833.hdf
MCD15A3H.A2017317.h17v03.006.2017331160711.hdf
MCD15A3H.A2017317.h17v04.006.2017331160712.hdf
MCD15A3H.A2017317.h18v03.006.2017331160709.hdf
MCD15A3H.A2017317.h18v04.006.2017331160715.hdf
MCD15A3H.A2017321.h17v03.006.2017331211621.hdf
MCD15A3H.A2017321.h17v04.006.2017331211453.hdf
MCD15A3H.A2017321.h18v03.006.2017331211508.hdf
MCD15A3H.A2017321.h18v04.006.2017331211501.hdf
MCD15A3H.A2017325.h17v03.006.2017333160951.hdf
MCD15A3H.A2017325.h17v04.006.2017333160942.hdf
MCD15A3H.A2017325.h18v03.006.2017333160920.hdf
MCD15A3H.A2017325.h18v04.006.2017333160922.hdf
MCD15A3H.A2017329.h17v03.006.2017334154337.hdf
MCD15A3H.A2017329.h17v04.006.2017334154340.hdf
MCD15A3H.A2017329.h18v03.006.2017334154339.hdf
MCD15A3H.A2017329.h18v04.006.2017334154345.hdf
MCD15A3H.A2017333.h17v03.006.2017341183030.hdf
MCD15A3H.A2017333.h17v04.006.2017341183224.hdf
MCD15A3H.A2017333.h18v03.006.2017341183458.hdf
MCD15A3H.A2017333.h18v04.006.2017341183037.hdf
MCD15A3H.A2017337.h17v03.006.2017342030946.hdf
MCD15A3H.A2017337.h17v04.006.2017342030858.hdf
MCD15A3H.A2017337.h18v03.006.2017342030824.hdf
MCD15A3H.A2017337.h18v04.006.2017342030439.hdf
MCD15A3H.A2017341.h17v03.006.2017346032258.hdf
MCD15A3H.A2017341.h17v04.006.2017346031815.hdf
MCD15A3H.A2017341.h18v03.006.2017346032329.hdf
MCD15A3H.A2017341.h18v04.006.2017346031740.hdf
MCD15A3H.A2017345.h17v03.006.2017353214417.hdf
MCD15A3H.A2017345.h17v04.006.2017353214204.hdf
MCD15A3H.A2017345.h18v03.006.2017353215001.hdf
MCD15A3H.A2017345.h18v04.006.2017353214523.hdf
MCD15A3H.A2017349.h17v03.006.2017354030323.hdf
MCD15A3H.A2017349.h17v04.006.2017354030754.hdf
MCD15A3H.A2017349.h18v03.006.2017354031001.hdf
MCD15A3H.A2017349.h18v04.006.2017354030436.hdf
MCD15A3H.A2017353.h17v03.006.2017361223000.hdf
MCD15A3H.A2017353.h17v04.006.2017361223126.hdf
MCD15A3H.A2017353.h18v03.006.2017361223009.hdf
MCD15A3H.A2017353.h18v04.006.2017361223133.hdf
MCD15A3H.A2017357.h17v03.006.2018002133710.hdf
MCD15A3H.A2017357.h17v04.006.2018002133721.hdf
MCD15A3H.A2017357.h18v03.006.2018002133701.hdf
MCD15A3H.A2017357.h18v04.006.2018002133807.hdf
MCD15A3H.A2017361.h17v03.006.2018002204120.hdf
MCD15A3H.A2017361.h17v04.006.2018002204315.hdf
MCD15A3H.A2017361.h18v03.006.2018002204108.hdf
MCD15A3H.A2017361.h18v04.006.2018002204003.hdf
MCD15A3H.A2017365.h17v03.006.2018005032624.hdf
MCD15A3H.A2017365.h17v04.006.2018005032653.hdf
MCD15A3H.A2017365.h18v03.006.2018005032348.hdf
MCD15A3H.A2017365.h18v04.006.2018005032627.hdf
MCD15A3H.A2017h1_78_v0_34_LU.006.149.FparLai_QC.vrt
MCD15A3H.A2017h1_78_v0_34_LU.006.149.Lai_500m.vrt
MCD15A3H.A2017h1_78_v0_34_LU.006.149_clip.FparLai_QC.vrt
MCD15A3H.A2017h1_78_v0_34_LU.006.149_clip.Lai_500m.vrt
MCD15A3H.A2018273.h17v03.006.2018278143630.hdf
MCD15A3H.A2018273.h17v04.006.2018278143630.hdf
MCD15A3H.A2018273.h18v03.006.2018278143633.hdf
MCD15A3H.A2018273.h18v04.006.2018278143638.hdf
Mauna_Loa
NOAA.csv
TM_WORLD_BORDERS-0.3.dbf
TM_WORLD_BORDERS-0.3.prj
TM_WORLD_BORDERS-0.3.shp
TM_WORLD_BORDERS-0.3.shx
TM_WORLD_BORDERS-0.3.zip
airtravel.csv
data.pkl
data2005.pkl
data2006.pkl
daymet_tmax.csv
delNorteT.dat
delNorteT_2005.dat
delnorte.dat
grb.wkt
huc250k_shp.zip
lai_data_2017_UK.npz
lai_filelist_2016.dat.txt
lai_filelist_2017.dat.txt
modis_6974.wkt
satellites-1957-2019.gz
saved_daymet.csv
test.bin
test_image.bin
</pre></div>
</div>
<p><strong>Exercise 3.3.4</strong></p>
<ul class="simple">
<li><p>adapt the code above to return only hdf filenames for the tile <code class="docutils literal notranslate"><span class="pre">h18v03</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
<div class="section" id="reading-and-displaying-image-data">
<h3>3.3.3.2 reading and displaying image data<a class="headerlink" href="#reading-and-displaying-image-data" title="Permalink to this headline">¶</a></h3>
<p>Let’s now read some data as above.</p>
<p>we do this with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">gdal_fname</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span>
</pre></div>
</div>
<p>Originally the data are <code class="docutils literal notranslate"><span class="pre">uint8</span></code> (unsigned 8 bit data), but we need to multiply them by <code class="docutils literal notranslate"><span class="pre">scale_factor</span></code> (0.1 here) to convert to physical units. This also casts the data type to <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
<p>We can straightforwardly plot the images using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. We first importt the library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Then set up the figure size:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Plot the image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">inferno_r</span><span class="p">)</span>
</pre></div>
</div>
<p>where here <code class="docutils literal notranslate"><span class="pre">data</span></code> is a 2-D dataset. We can set limits to the image scaling (<code class="docutils literal notranslate"><span class="pre">vmin</span></code>, <code class="docutils literal notranslate"><span class="pre">vmax</span></code>), so that we emphasise a particular range of values, and we can apply custom colourmaps (<code class="docutils literal notranslate"><span class="pre">cmap=plt.cm.inferno_r</span></code>).</p>
<p>Finally here, we set a title, and plot a colour wedge to show the data scale. The <code class="docutils literal notranslate"><span class="pre">scale=0.8</span></code> here allows us to align the size of the scale with the plotted image size.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">shrink</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
<p>If we want to save the plotted image to a file, e.g. in the directory <code class="docutils literal notranslate"><span class="pre">images</span></code>, we use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">out_filename</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># get only v03 hdf names</span>
<span class="n">filenames</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*2018*v03*.hdf&#39;</span><span class="p">))</span>


<span class="n">out_directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="c1"># pull the tile name from the filename</span>
    <span class="c1"># to use as plot title</span>
    <span class="n">tile</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
    
    <span class="n">dataset_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1">:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span>
    <span class="n">scale_factor</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">GetMetadata</span><span class="p">()[</span><span class="s1">&#39;scale_factor&#39;</span><span class="p">])</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">,</span><span class="n">scale_factor</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">*</span> <span class="n">scale_factor</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">inferno_r</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">tile</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">shrink</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
    
    <span class="c1"># save figure as png</span>
    <span class="n">plot_name</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">plot_name</span><span class="p">)</span>
    <span class="n">out_filename</span> <span class="o">=</span> <span class="n">out_directory</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">plot_name</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">out_filename</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h17v03.006.2018278143630.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m 0.1
**************************************************************************************************
&lt;class &#39;numpy.ndarray&#39;&gt; uint8 (2400, 2400) 

&lt;class &#39;numpy.ndarray&#39;&gt; float64 (2400, 2400) 

MCD15A3H.A2018273.h17v03.006.2018278143630.png
HDF4_EOS:EOS_GRID:&quot;data/MCD15A3H.A2018273.h18v03.006.2018278143633.hdf&quot;:MOD_Grid_MCD15A3H:Lai_500m 0.1
**************************************************************************************************
&lt;class &#39;numpy.ndarray&#39;&gt; uint8 (2400, 2400) 

&lt;class &#39;numpy.ndarray&#39;&gt; float64 (2400, 2400) 

MCD15A3H.A2018273.h18v03.006.2018278143633.png
</pre></div>
</div>
<p><img alt="png" src="_images/042_GDAL_masking_34_1.png" /></p>
<p><img alt="png" src="_images/042_GDAL_masking_34_2.png" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s check the images we saved are there!</span>
<span class="c1"># and access some file info while we are here</span>
<span class="c1"># using pathlib</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;MCD*2018*v03*.png&#39;</span><span class="p">):</span>
    
    <span class="c1"># get the file size in bytes </span>
    <span class="n">size_in_B</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
    
    <span class="c1"># get the file modification time (ns)</span>
    <span class="n">mod_date_ns</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mtime_ns</span>
    <span class="n">mod_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">mod_date_ns</span> <span class="o">//</span> <span class="mi">1000000000</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">size_in_B</span><span class="si">}</span><span class="s1"> Bytes </span><span class="si">{</span><span class="n">mod_date</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">images</span><span class="o">/</span><span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h18v03</span><span class="o">.</span><span class="mf">006.2018278143633</span><span class="o">.</span><span class="n">png</span> <span class="mi">318419</span> <span class="n">Bytes</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">07</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">11</span>
<span class="n">images</span><span class="o">/</span><span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h17v03</span><span class="o">.</span><span class="mf">006.2018278143630</span><span class="o">.</span><span class="n">png</span> <span class="mi">152076</span> <span class="n">Bytes</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">07</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="subplot-plotting">
<h3>3.3.3.3 subplot plotting<a class="headerlink" href="#subplot-plotting" title="Permalink to this headline">¶</a></h3>
<p>Often, we want to have several figures on the same plot. We can do this with <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>:</p>
<p>The way we set the title and other features is slightly diifferent, but there are many example of different plot types on the web we can follow as examples.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*2018*v03*.hdf&#39;</span><span class="p">))</span>

<span class="n">out_directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Set up subplots of 1 row x 2 columns</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="c1"># need to force axs collapse to a 2D array</span>
<span class="c1"># for indexing to be easy T here is transpose</span>
<span class="c1"># to get row/col the right way around</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">filename</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">filenames</span><span class="p">):</span>
    <span class="c1"># pull the tile name from the filename</span>
    <span class="c1"># to use as plot title</span>
    <span class="n">tile</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
    
    
    <span class="n">dataset_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1">:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">GetMetadata</span><span class="p">()[</span><span class="s1">&#39;scale_factor&#39;</span><span class="p">])</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">inferno_r</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">tile</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">shrink</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
    
<span class="c1"># save figure as pdf this time</span>
<span class="n">plot_name</span> <span class="o">=</span> <span class="s1">&#39;joinedup.pdf&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plot_name</span><span class="p">)</span>
<span class="n">out_filename</span> <span class="o">=</span> <span class="n">out_directory</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">plot_name</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">out_filename</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">joinedup</span><span class="o">.</span><span class="n">pdf</span>
</pre></div>
</div>
<p><img alt="png" src="_images/042_GDAL_masking_37_1.png" /></p>
<p><strong>Exercise 3.3.5</strong></p>
<p>We now want to use the additional files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h17v04</span><span class="o">.</span><span class="mf">006.2018278143630</span><span class="o">.</span><span class="n">hdf</span>	
<span class="n">MCD15A3H</span><span class="o">.</span><span class="n">A2018273</span><span class="o">.</span><span class="n">h18v04</span><span class="o">.</span><span class="mf">006.2018278143638</span><span class="o">.</span><span class="n">hdf</span>
</pre></div>
</div>
<ul class="simple">
<li><p>copy and change the code above to use files of the pattern <code class="docutils literal notranslate"><span class="pre">*v0[3,4]*.hdf</span></code></p></li>
<li><p>use subplot as above to plot a 2x2 set of subplots of these data.</p></li>
</ul>
<p><strong>Hint</strong></p>
<p>The code should look much like that above, but you need to give the fiuller list of filenames and set the subplot shape.</p>
<p>The code <code class="docutils literal notranslate"><span class="pre">[3,4]</span></code> in the pattern <code class="docutils literal notranslate"><span class="pre">*v0[3,4]*.hdf</span></code> means match either <code class="docutils literal notranslate"><span class="pre">3</span></code> or <code class="docutils literal notranslate"><span class="pre">4</span></code>, so the pattern must be <code class="docutils literal notranslate"><span class="pre">*v03*.hdf</span></code> or <code class="docutils literal notranslate"><span class="pre">*v03*.hdf</span></code>.</p>
<p>The result should look like:</p>
<p><img alt="_images/joinedup4.pdf" src="_images/joinedup4.pdf" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
<div class="section" id="tile-stitching">
<h3>3.3.3.3 tile stitching<a class="headerlink" href="#tile-stitching" title="Permalink to this headline">¶</a></h3>
<p>You may want to generate a single view of the 4 tiles.</p>
<p>We could achieve this by stitching things together “by hand”…</p>
<p><strong>recipe:</strong></p>
<ul>
<li><p>First, lets generate a 3D dataset with all 4 tiles, so we have the images stored as members of a list <code class="docutils literal notranslate"><span class="pre">data[0]</span></code>,<code class="docutils literal notranslate"><span class="pre">data[1]</span></code>,<code class="docutils literal notranslate"><span class="pre">data[2]</span></code> and <code class="docutils literal notranslate"><span class="pre">data[3]</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
      <span class="n">dataname</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
      <span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataname</span><span class="p">)</span>
      <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span> <span class="o">*</span> <span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>then, we produce vertical stacks of the first two and last two files. This can be done in various ways, but it is perhaps clearest to use <code class="docutils literal notranslate"><span class="pre">np.vstack()</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
  <span class="n">bot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
</pre></div>
</div>
</li>
<li><p>then, produce a horizontal stack of these stacks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">lai_stich</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">top</span><span class="p">,</span><span class="n">bot</span><span class="p">])</span>
</pre></div>
</div>
</li>
</ul>
<p>and plot the dataset</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">scale</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*2018*v0*.hdf&#39;</span><span class="p">))</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="n">dataname</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">dataname</span><span class="p">)</span>
    <span class="c1"># append each image to the data list</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span> <span class="o">*</span> <span class="n">scale</span><span class="p">)</span>

<span class="n">top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">bot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>

<span class="n">lai_stich</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">top</span><span class="p">,</span><span class="n">bot</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lai_stich</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
          <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">inferno_r</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">shrink</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colorbar</span><span class="o">.</span><span class="n">Colorbar</span> <span class="n">at</span> <span class="mh">0x7fe650a6ecd0</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><img alt="png" src="_images/042_GDAL_masking_41_1.png" /></p>
<p><strong>Exercise 3.3.6</strong></p>
<ul class="simple">
<li><p>examine how the <code class="docutils literal notranslate"><span class="pre">vstack</span></code> and <code class="docutils literal notranslate"><span class="pre">hstack</span></code> methods work. Print out the shape of the array after stacking to appreciate this.</p></li>
<li><p>how big (in pixels) is the whole dataset now?</p></li>
<li><p>If a <code class="docutils literal notranslate"><span class="pre">float</span></code> is 64 bits, how many bytes is this data array likely to be?</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
<div class="section" id="gdal-virtual-file">
<h3>3.3.3.4 <code class="docutils literal notranslate"><span class="pre">gdal</span></code> virtual file<a class="headerlink" href="#gdal-virtual-file" title="Permalink to this headline">¶</a></h3>
<p>However, stitching in this way is problematic if you want to mosaic many tiles, as you need to read in all the data in memory. Also,some tiles may be missing. GDAL allows you to create a mosaic as <a class="reference external" href="https://www.gdal.org/gdal_vrttut.html">virtual file format</a>, using gdal.BuildVRT (check the documentation).</p>
<p>This function takes two inputs: the output filename (<code class="docutils literal notranslate"><span class="pre">stitch_up.vrt</span></code>) and a set of GDAL format filenames. It returns the open output dataset, so that we can check what it looks like with e.g. <code class="docutils literal notranslate"><span class="pre">gdal.Info</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># need to convert filenames to strings</span>
<span class="c1"># which we can do with p.as_posix() or str(p)</span>
<span class="n">filenames</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">p</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*273*v0[3,4]*.hdf&#39;</span><span class="p">)])</span>
<span class="n">datanames</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span> \
                <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">]</span>
<span class="n">stitch_vrt</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">BuildVRT</span><span class="p">(</span><span class="s2">&quot;stitch_up.vrt&quot;</span><span class="p">,</span> <span class="n">datanames</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">gdal</span><span class="o">.</span><span class="n">Info</span><span class="p">(</span><span class="n">stitch_vrt</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Driver</span><span class="p">:</span> <span class="n">VRT</span><span class="o">/</span><span class="n">Virtual</span> <span class="n">Raster</span>
<span class="n">Files</span><span class="p">:</span> <span class="n">stitch_up</span><span class="o">.</span><span class="n">vrt</span>
<span class="n">Size</span> <span class="ow">is</span> <span class="mi">4800</span><span class="p">,</span> <span class="mi">4800</span>
<span class="n">Coordinate</span> <span class="n">System</span> <span class="ow">is</span><span class="p">:</span>
<span class="n">PROJCRS</span><span class="p">[</span><span class="s2">&quot;unnamed&quot;</span><span class="p">,</span>
    <span class="n">BASEGEOGCRS</span><span class="p">[</span><span class="s2">&quot;Unknown datum based upon the custom spheroid&quot;</span><span class="p">,</span>
        <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;Not specified (based on custom spheroid)&quot;</span><span class="p">,</span>
            <span class="n">ELLIPSOID</span><span class="p">[</span><span class="s2">&quot;Custom spheroid&quot;</span><span class="p">,</span><span class="mf">6371007.181</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">LENGTHUNIT</span><span class="p">[</span><span class="s2">&quot;metre&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">ID</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">9001</span><span class="p">]]]],</span>
        <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Greenwich&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">ANGLEUNIT</span><span class="p">[</span><span class="s2">&quot;degree&quot;</span><span class="p">,</span><span class="mf">0.0174532925199433</span><span class="p">,</span>
                <span class="n">ID</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">9122</span><span class="p">]]]],</span>
    <span class="n">CONVERSION</span><span class="p">[</span><span class="s2">&quot;unnamed&quot;</span><span class="p">,</span>
        <span class="n">METHOD</span><span class="p">[</span><span class="s2">&quot;Sinusoidal&quot;</span><span class="p">],</span>
        <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Longitude of natural origin&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">ANGLEUNIT</span><span class="p">[</span><span class="s2">&quot;degree&quot;</span><span class="p">,</span><span class="mf">0.0174532925199433</span><span class="p">],</span>
            <span class="n">ID</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">8802</span><span class="p">]],</span>
        <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;False easting&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">LENGTHUNIT</span><span class="p">[</span><span class="s2">&quot;Meter&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">ID</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">8806</span><span class="p">]],</span>
        <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;False northing&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">LENGTHUNIT</span><span class="p">[</span><span class="s2">&quot;Meter&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">ID</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">8807</span><span class="p">]]],</span>
    <span class="n">CS</span><span class="p">[</span><span class="n">Cartesian</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
        <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;easting&quot;</span><span class="p">,</span><span class="n">east</span><span class="p">,</span>
            <span class="n">ORDER</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">LENGTHUNIT</span><span class="p">[</span><span class="s2">&quot;Meter&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span>
        <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;northing&quot;</span><span class="p">,</span><span class="n">north</span><span class="p">,</span>
            <span class="n">ORDER</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="n">LENGTHUNIT</span><span class="p">[</span><span class="s2">&quot;Meter&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">]]]</span>
<span class="n">Data</span> <span class="n">axis</span> <span class="n">to</span> <span class="n">CRS</span> <span class="n">axis</span> <span class="n">mapping</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span>
<span class="n">Origin</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">1111950.519667000044137</span><span class="p">,</span><span class="mf">6671703.117999999783933</span><span class="p">)</span>
<span class="n">Pixel</span> <span class="n">Size</span> <span class="o">=</span> <span class="p">(</span><span class="mf">463.312716527916621</span><span class="p">,</span><span class="o">-</span><span class="mf">463.312716527708290</span><span class="p">)</span>
<span class="n">Corner</span> <span class="n">Coordinates</span><span class="p">:</span>
<span class="n">Upper</span> <span class="n">Left</span>  <span class="p">(</span><span class="o">-</span><span class="mf">1111950.520</span><span class="p">,</span> <span class="mf">6671703.118</span><span class="p">)</span> <span class="p">(</span> <span class="mi">20</span><span class="n">d</span> <span class="mi">0</span><span class="s1">&#39; 0.00&quot;W, 60d 0&#39;</span> <span class="mf">0.00</span><span class="s2">&quot;N)</span>
<span class="n">Lower</span> <span class="n">Left</span>  <span class="p">(</span><span class="o">-</span><span class="mf">1111950.520</span><span class="p">,</span> <span class="mf">4447802.079</span><span class="p">)</span> <span class="p">(</span> <span class="mi">13</span><span class="n">d</span> <span class="mi">3</span><span class="s1">&#39;14.66&quot;W, 40d 0&#39;</span> <span class="mf">0.00</span><span class="s2">&quot;N)</span>
<span class="n">Upper</span> <span class="n">Right</span> <span class="p">(</span> <span class="mf">1111950.520</span><span class="p">,</span> <span class="mf">6671703.118</span><span class="p">)</span> <span class="p">(</span> <span class="mi">20</span><span class="n">d</span> <span class="mi">0</span><span class="s1">&#39; 0.00&quot;E, 60d 0&#39;</span> <span class="mf">0.00</span><span class="s2">&quot;N)</span>
<span class="n">Lower</span> <span class="n">Right</span> <span class="p">(</span> <span class="mf">1111950.520</span><span class="p">,</span> <span class="mf">4447802.079</span><span class="p">)</span> <span class="p">(</span> <span class="mi">13</span><span class="n">d</span> <span class="mi">3</span><span class="s1">&#39;14.66&quot;E, 40d 0&#39;</span> <span class="mf">0.00</span><span class="s2">&quot;N)</span>
<span class="n">Center</span>      <span class="p">(</span>      <span class="o">-</span><span class="mf">0.000</span><span class="p">,</span> <span class="mf">5559752.598</span><span class="p">)</span> <span class="p">(</span>  <span class="mi">0</span><span class="n">d</span> <span class="mi">0</span><span class="s1">&#39; 0.00&quot;W, 50d 0&#39;</span> <span class="mf">0.00</span><span class="s2">&quot;N)</span>
<span class="n">Band</span> <span class="mi">1</span> <span class="n">Block</span><span class="o">=</span><span class="mi">128</span><span class="n">x128</span> <span class="n">Type</span><span class="o">=</span><span class="n">Byte</span><span class="p">,</span> <span class="n">ColorInterp</span><span class="o">=</span><span class="n">Gray</span>
  <span class="n">NoData</span> <span class="n">Value</span><span class="o">=</span><span class="mi">255</span>
  <span class="n">Offset</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>   <span class="n">Scale</span><span class="p">:</span><span class="mf">0.1</span>
</pre></div>
</div>
<p>So we see that we now have 4800 columns by 4800 rows dataset, centered around 0 degrees North, 0 degrees W. Let’s plot the data…</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># stitch_vrt is an already opened GDAL dataset, needs to be read in</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">stitch_vrt</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">,</span>
           <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> 
          <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">inferno_r</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x7fe648f037d0</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><img alt="png" src="_images/042_GDAL_masking_47_1.png" /></p>
</div>
</div>
<div class="section" id="the-country-borders-dataset">
<h2>3.3.4 The country borders dataset<a class="headerlink" href="#the-country-borders-dataset" title="Permalink to this headline">¶</a></h2>
<p>A number of vectors with countries and administrative subdivisions are available. The <a class="reference external" href="http://thematicmapping.org/downloads/TM_WORLD_BORDERS-0.3.zip">TM_WORLD_BORDERS shapefile</a> is popular and in the public domain. You can see it, and have a look at the data <a class="reference external" href="https://koordinates.com/layer/7354-tm-world-borders-03/">here</a>. We need to download and unzip this file… We’ll use requests as before, and we’ll unpack the zip file using <a class="reference external" href="https://docs.python.org/3/library/shutil.html#shutil.unpack_archive"><code class="docutils literal notranslate"><span class="pre">shutil.unpack_archive</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">shutil</span> 

<span class="n">tm_borders_url</span> <span class="o">=</span> <span class="s2">&quot;http://thematicmapping.org/downloads/TM_WORLD_BORDERS-0.3.zip&quot;</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tm_borders_url</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/TM_WORLD_BORDERS-0.3.zip&quot;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="n">shutil</span><span class="o">.</span><span class="n">unpack_archive</span><span class="p">(</span><span class="s2">&quot;data/TM_WORLD_BORDERS-0.3.zip&quot;</span><span class="p">,</span>
                     <span class="n">extract_dir</span><span class="o">=</span><span class="s2">&quot;data/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="n">ReadError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="mi">58</span><span class="n">a2ee86d0b5</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">9</span> 
     <span class="mi">10</span> <span class="n">shutil</span><span class="o">.</span><span class="n">unpack_archive</span><span class="p">(</span><span class="s2">&quot;data/TM_WORLD_BORDERS-0.3.zip&quot;</span><span class="p">,</span>
<span class="o">---&gt;</span> <span class="mi">11</span>                      <span class="n">extract_dir</span><span class="o">=</span><span class="s2">&quot;data/&quot;</span><span class="p">)</span>


<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">geog0111</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">shutil</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">unpack_archive</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">extract_dir</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span>
   <span class="mi">1000</span>         <span class="n">func</span> <span class="o">=</span> <span class="n">_UNPACK_FORMATS</span><span class="p">[</span><span class="nb">format</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
   <span class="mi">1001</span>         <span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_UNPACK_FORMATS</span><span class="p">[</span><span class="nb">format</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
<span class="o">-&gt;</span> <span class="mi">1002</span>         <span class="n">func</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">extract_dir</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
   <span class="mi">1003</span> 
   <span class="mi">1004</span> 


<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">geog0111</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">shutil</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">_unpack_zipfile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">extract_dir</span><span class="p">)</span>
    <span class="mi">897</span> 
    <span class="mi">898</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">is_zipfile</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<span class="o">--&gt;</span> <span class="mi">899</span>         <span class="k">raise</span> <span class="n">ReadError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is not a zip file&quot;</span> <span class="o">%</span> <span class="n">filename</span><span class="p">)</span>
    <span class="mi">900</span> 
    <span class="mi">901</span>     <span class="nb">zip</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>


<span class="n">ReadError</span><span class="p">:</span> <span class="n">data</span><span class="o">/</span><span class="n">TM_WORLD_BORDERS</span><span class="o">-</span><span class="mf">0.3</span><span class="o">.</span><span class="n">zip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="nb">zip</span> <span class="n">file</span>
</pre></div>
</div>
<p>Make sure you have the relevant files available in your <code class="docutils literal notranslate"><span class="pre">data</span></code> folder! We can then inspect the dataset using the command line tool <code class="docutils literal notranslate"><span class="pre">ogrinfo</span></code>. We can call it from the shell by appending the <code class="docutils literal notranslate"><span class="pre">!</span></code> symbol, and select that we want to check only the data for the UK (stored in the <code class="docutils literal notranslate"><span class="pre">FIPS</span></code> field with value <code class="docutils literal notranslate"><span class="pre">UK</span></code>):</p>
<p>It is worth noting that using OGR’s queries trying to match a string, the string needs to be surrounded by <code class="docutils literal notranslate"><span class="pre">'</span></code>. You can also use more complicated SQL queries if you wanted to.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>!ogrinfo -nomd -geom=NO -where &quot;FIPS=&#39;UK&#39;&quot;  data/TM_WORLD_BORDERS-0.3.shp TM_WORLD_BORDERS-0.3 
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>INFO: Open of `data/TM_WORLD_BORDERS-0.3.shp&#39;
      using driver `ESRI Shapefile&#39; successful.

Layer name: TM_WORLD_BORDERS-0.3
Geometry: Polygon
Feature Count: 1
Extent: (-180.000000, -90.000000) - (180.000000, 83.623596)
Layer SRS WKT:
GEOGCRS[&quot;WGS 84&quot;,
    DATUM[&quot;World Geodetic System 1984&quot;,
        ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
            LENGTHUNIT[&quot;metre&quot;,1]]],
    PRIMEM[&quot;Greenwich&quot;,0,
        ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&quot;latitude&quot;,north,
            ORDER[1],
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        AXIS[&quot;longitude&quot;,east,
            ORDER[2],
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
    ID[&quot;EPSG&quot;,4326]]
Data axis to CRS axis mapping: 2,1
FIPS: String (2.0)
ISO2: String (2.0)
ISO3: String (3.0)
UN: Integer (3.0)
NAME: String (50.0)
AREA: Integer (7.0)
POP2005: Integer64 (10.0)
REGION: Integer (3.0)
SUBREGION: Integer (3.0)
LON: Real (8.3)
LAT: Real (7.3)
OGRFeature(TM_WORLD_BORDERS-0.3):206
  FIPS (String) = UK
  ISO2 (String) = GB
  ISO3 (String) = GBR
  UN (Integer) = 826
  NAME (String) = United Kingdom
  AREA (Integer) = 24193
  POP2005 (Integer64) = 60244834
  REGION (Integer) = 150
  SUBREGION (Integer) = 154
  LON (Real) = -1.600
  LAT (Real) = 53.000
</pre></div>
</div>
<p>We inmediately see that the coordinates for the UK are in several polygons, and in WGS84 (Latitude and Longitude in decimal degrees). This is incompatible with the MODIS data (SIN projection), but fortunately GDAL understands about coordinate systems.</p>
<p>We can use GDAL to quickly apply the vector feature for the UK as a mask. There are several ways of doing this, but the simplest is to use <a class="reference external" href="https://www.gdal.org/gdalwarp.html">gdal.Warp</a> (the link is to the command line tool). In this case, we just want to create:</p>
<ul class="simple">
<li><p>an in-memory (i.e. not saved to a file) dataset. We can use the format <code class="docutils literal notranslate"><span class="pre">MEM</span></code>, so no file is written out.</p></li>
<li><p>where the <code class="docutils literal notranslate"><span class="pre">FIPS</span></code> field is equal to <code class="docutils literal notranslate"><span class="pre">'UK'</span></code>, we want the LAI to show, elsewhere, we set it to some value to indicate “no data” (e.g. -999)</p></li>
</ul>
<p>The mosaicked version of the MODIS LAI product is in called <code class="docutils literal notranslate"><span class="pre">stitch_up.vrt</span></code>. Since we’re not saving the output to a file (<code class="docutils literal notranslate"><span class="pre">MEM</span></code> output option), we can leave the output as an empty string <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>. The shapefile comes with the <code class="docutils literal notranslate"><span class="pre">cutline</span></code> options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cutlineDSName</span></code> that’s the name of the vector file we want to use as a cutline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cutlineWhere</span></code> that’s the selection statement for the attribute table in the dataset.</p></li>
</ul>
<p>To set the no data value to 200, we can use the option <code class="docutils literal notranslate"><span class="pre">dstNodata=200</span></code>. This is because very large values in the LAI product are already indicated to be invalid.</p>
<p>We can then just very quickly perform this and check…</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdal</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">p</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*2018*v0*.hdf&#39;</span><span class="p">)])</span>
<span class="n">datanames</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;HDF4_EOS:EOS_GRID:&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;:MOD_Grid_MCD15A3H:Lai_500m&#39;</span> \
                <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">]</span>
<span class="n">stitch_vrt</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">BuildVRT</span><span class="p">(</span><span class="s2">&quot;stitch_up.vrt&quot;</span><span class="p">,</span> <span class="n">datanames</span><span class="p">)</span>


<span class="n">g</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Warp</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;stitch_up.vrt&quot;</span><span class="p">,</span>
         <span class="nb">format</span> <span class="o">=</span> <span class="s1">&#39;MEM&#39;</span><span class="p">,</span><span class="n">dstNodata</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
          <span class="n">cutlineDSName</span> <span class="o">=</span> <span class="s1">&#39;data/TM_WORLD_BORDERS-0.3.shp&#39;</span><span class="p">,</span> <span class="n">cutlineWhere</span> <span class="o">=</span> <span class="s2">&quot;FIPS=&#39;UK&#39;&quot;</span><span class="p">)</span>

<span class="c1"># read and plot data</span>
<span class="n">masked_lai</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Red white and blue: Brexit UK&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">masked_lai</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> 
          <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">RdBu</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x7fe641ad4ad0</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><img alt="png" src="_images/042_GDAL_masking_53_1.png" /></p>
<p>So that works as expected, but since we haven’t actually told GDAL anything about the output (other than apply the mask), we still have a 4800 pixel wide dataset.</p>
<p>You may want to crop it by looking for where the original dataset is  valid (0 to 100 here). This will generally save a lot of computer memory. You’ll be pleased to know that this is a great slicing application!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">lai</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span>

<span class="c1"># data valid where lai &lt;= 100 here</span>
<span class="n">valid_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">lai</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># work out the bounds of valid_mask</span>
<span class="n">min_y</span>      <span class="o">=</span> <span class="n">valid_mask</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">max_y</span>      <span class="o">=</span> <span class="n">valid_mask</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">min_x</span>      <span class="o">=</span> <span class="n">valid_mask</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">max_x</span>      <span class="o">=</span> <span class="n">valid_mask</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>

<span class="c1"># now slice, and scale LAI</span>
<span class="n">lai</span> <span class="o">=</span> <span class="n">lai</span><span class="p">[</span><span class="n">min_y</span><span class="p">:</span><span class="n">max_y</span><span class="p">,</span>
          <span class="n">min_x</span><span class="p">:</span><span class="n">max_x</span><span class="p">]</span><span class="o">*</span><span class="mf">0.1</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lai</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
           <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">inferno_r</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;UK&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colorbar</span><span class="o">.</span><span class="n">Colorbar</span> <span class="n">at</span> <span class="mh">0x7fe660f77a10</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><img alt="png" src="_images/042_GDAL_masking_55_1.png" /></p>
<p><strong>Exercise 3.3.7</strong> <strong>Homework</strong></p>
<ul class="simple">
<li><p>Develop a function that takes the list of dataset names and the information you passed to <code class="docutils literal notranslate"><span class="pre">gdal.Warp</span></code> (or a subset of this) and returns a cropped image of valid data.</p></li>
<li><p>Use this function to show separate images of: France, Belgium, the Netherlands</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
<p><strong>Exercise 3.3.8</strong> <strong>Homework</strong></p>
<ul class="simple">
<li><p>Download data for these same four tiles from the <strong>MODIS snow cover</strong> dataset for some particular date (in winter). Check the related quicklooks to see that the dataset isn’t all covered in cloud.</p></li>
<li><p>show the snow cover for one or more selected countries.</p></li>
<li><p>calculate summary statistics for the datasets.</p></li>
</ul>
<p><strong>Hint</strong> the codes would be very similar to above, but watch out for the scaling factor not being the same (no scaling for the snow cover!). Also, watch out for the dataset being on a different NASA server to the LAI data (as in exercise above).</p>
<p>When you calculate summary statistics, make sure you ignore all invalid pixels. You could do that by generating a mask of the dataset (after you have clipped it) using <code class="docutils literal notranslate"><span class="pre">np.where()</span></code>, and only process those pixels, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">image</span><span class="o">&lt;=</span><span class="mi">100</span><span class="p">)]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<p>rather than</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<p>as the latter would include invalid pixels.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do exercise here</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">GEOG0111 Scientific Computing</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="docindex.html">GEOG0111</a></li>
<li class="toctree-l1"><a class="reference internal" href="docindex.html#geog0111-scientific-computing">GEOG0111 Scientific Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="001_Notebook_use.html">001 Use of Jupyter notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="002_Unix.html">002 Some basic UNIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="003_Help.html">003 Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="004_Accounts.html">004 Setup, Accounts and logins</a></li>
<li class="toctree-l1"><a class="reference internal" href="001_Notebook_use_answers.html">001 Use of Jupyter notebooks : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="002_Unix_answers.html">002 Some basic UNIX : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="003_Help_answers.html">003 Help : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="010_Python_Introduction.html">010 Introduction to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="011_Python_data_types.html">011 Python data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="012_Python_strings.html">012 String formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="013_Python_string_methods.html">013 String methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="014_Python_groups.html">014 Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="015_Python_control.html">015 Control in Python: <code class="docutils literal notranslate"><span class="pre">if</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="016_Python_for.html">016 More control in Python: <code class="docutils literal notranslate"><span class="pre">for</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="017_Functions.html">Functions in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="018_Packages.html">Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="019_Running_Python.html">019 Python codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="010_Python_Introduction_answers.html">010 Introduction to Python : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="011_Python_data_types_answers.html">011 Python data types : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="012_Python_strings_answers.html">012 String formatting : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="013_Python_string_methods_answers.html">013 String methods : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="014_Python_groups_answers.html">014 Groups : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="015_Python_control_answers.html">015 Control in Python: <code class="docutils literal notranslate"><span class="pre">if</span></code> : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="016_Python_for_answers.html">016 More control in Python: <code class="docutils literal notranslate"><span class="pre">for</span></code> : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="017_Functions_answers.html">Functions in Python : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="019_Running_Python_answers.html">019 Python codes : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_NASA_MODIS_Earthdata.html">NASA MODIS Earthdata</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_NASA_MODIS_Earthdata.html#exercises">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_NASA_MODIS_Earthdata.html#summary">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_Python_files.html">020 Files and other Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="021_Read_files.html">021 Read Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="022_NASA_MODIS_Earthdata.html">NASA MODIS Earthdata</a></li>
<li class="toctree-l1"><a class="reference internal" href="022_NASA_MODIS_Earthdata.html#exercises">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="022_NASA_MODIS_Earthdata.html#summary">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="022_Pandas_and_plotting.html"><code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="024_GoogleEarthEngine.html">201 Google Earth Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_NASA_MODIS_Earthdata_answers.html">NASA MODIS Earthdata : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_Python_files_answers.html">020 Files and other Resources : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="021_Read_files_answers.html">021 Read Files : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="022_NASA_MODIS_Earthdata_answers.html">NASA MODIS Earthdata : Answers to exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="031_Numpy_matplotlib.html">Manipulating data: <code class="docutils literal notranslate"><span class="pre">numpy</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="040_GDAL.html">3 Geospatial processing with <code class="docutils literal notranslate"><span class="pre">gdal</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="041_MODIS_download.html">3.2 Accessing MODIS Data products</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3.3 GDAL, and OGR masking</a></li>
<li class="toctree-l1"><a class="reference internal" href="043_GDAL_stacking_and_interpolating.html">3.4 Stacking and interpolating data</a></li>
<li class="toctree-l1"><a class="reference internal" href="044_GDAL_Reconciling_projections.html">3.6 Reconciling projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="050_Linear_models.html">Table of Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="050_Linear_models.html#fitting-to-the-mauna-loa-co-2-record">Fitting to the Mauna Loa $CO_2$ record</a></li>
<li class="toctree-l1"><a class="reference internal" href="051_Modelling_and_optimisation.html">5 Modelling and optimisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEV_Local_Install.html">003 Full native installation  of software and notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEV_scripts.html">Scripts</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="041_MODIS_download.html" title="previous chapter">3.2 Accessing MODIS Data products</a></li>
      <li>Next: <a href="043_GDAL_stacking_and_interpolating.html" title="next chapter">3.4 Stacking and interpolating data</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, P. Lewis and J. Gomez-Dans.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/042_GDAL_masking.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>